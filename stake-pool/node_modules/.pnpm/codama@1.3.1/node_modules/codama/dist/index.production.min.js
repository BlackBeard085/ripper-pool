"use strict";var globalThis=globalThis||{};globalThis.codama=(()=>{var ps=Object.create;var Be=Object.defineProperty;var ys=Object.getOwnPropertyDescriptor;var ms=Object.getOwnPropertyNames;var Ns=Object.getPrototypeOf,vs=Object.prototype.hasOwnProperty;var gs=(t,e,n)=>e in t?Be(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ts=(t,e)=>{for(var n in e)Be(t,n,{get:e[n],enumerable:!0})},li=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let u of ms(e))!vs.call(t,u)&&u!==n&&Be(t,u,{get:()=>e[u],enumerable:!(r=ys(e,u))||r.enumerable});return t};var hs=(t,e,n)=>(n=t!=null?ps(Ns(t)):{},li(e||!t||!t.__esModule?Be(n,"default",{value:t,enumerable:!0}):n,t)),As=t=>li(Be({},"__esModule",{value:!0}),t);var Ge=(t,e,n)=>gs(t,typeof e!="symbol"?e+"":e,n);var $i=g((jl,Mi)=>{"use strict";var zt,h,wi={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},pn;function me(t){throw{name:"SyntaxError",message:t,at:zt,text:pn}}function E(t){return t&&t!==h&&me("Expected '"+t+"' instead of '"+h+"'"),h=pn.charAt(zt),zt+=1,h}function Fi(){var t,e="";for(h==="-"&&(e="-",E("-"));h>="0"&&h<="9";)e+=h,E();if(h===".")for(e+=".";E()&&h>="0"&&h<="9";)e+=h;if(h==="e"||h==="E")for(e+=h,E(),(h==="-"||h==="+")&&(e+=h,E());h>="0"&&h<="9";)e+=h,E();return t=Number(e),isFinite(t)||me("Bad number"),t}function Li(){var t,e,n="",r;if(h==='"')for(;E();){if(h==='"')return E(),n;if(h==="\\")if(E(),h==="u"){for(r=0,e=0;e<4&&(t=parseInt(E(),16),!!isFinite(t));e+=1)r=r*16+t;n+=String.fromCharCode(r)}else if(typeof wi[h]=="string")n+=wi[h];else break;else n+=h}me("Bad string")}function ue(){for(;h&&h<=" ";)E()}function Qs(){switch(h){case"t":return E("t"),E("r"),E("u"),E("e"),!0;case"f":return E("f"),E("a"),E("l"),E("s"),E("e"),!1;case"n":return E("n"),E("u"),E("l"),E("l"),null;default:me("Unexpected '"+h+"'")}}function eu(){var t=[];if(h==="["){if(E("["),ue(),h==="]")return E("]"),t;for(;h;){if(t.push(qt()),ue(),h==="]")return E("]"),t;E(","),ue()}}me("Bad array")}function tu(){var t,e={};if(h==="{"){if(E("{"),ue(),h==="}")return E("}"),e;for(;h;){if(t=Li(),ue(),E(":"),Object.prototype.hasOwnProperty.call(e,t)&&me('Duplicate key "'+t+'"'),e[t]=qt(),ue(),h==="}")return E("}"),e;E(","),ue()}}me("Bad object")}function qt(){switch(ue(),h){case"{":return tu();case"[":return eu();case'"':return Li();case"-":return Fi();default:return h>="0"&&h<="9"?Fi():Qs()}}Mi.exports=function(t,e){var n;return pn=t,zt=0,h=" ",n=qt(),ue(),h&&me("Syntax error"),typeof e=="function"?function r(u,i){var s,a,o=u[i];if(o&&typeof o=="object")for(s in qt)Object.prototype.hasOwnProperty.call(o,s)&&(a=r(o,s),typeof a>"u"?delete o[s]:o[s]=a);return e.call(u,i,o)}({"":n},""):n}});var Ui=g((Ul,ji)=>{"use strict";var yn=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Z,Bt,ru={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},Ve;function mn(t){return yn.lastIndex=0,yn.test(t)?'"'+t.replace(yn,function(e){var n=ru[e];return typeof n=="string"?n:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function Gt(t,e){var n,r,u,i,s=Z,a,o=e[t];switch(o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(t)),typeof Ve=="function"&&(o=Ve.call(e,t,o)),typeof o){case"string":return mn(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(Z+=Bt,a=[],Object.prototype.toString.apply(o)==="[object Array]"){for(i=o.length,n=0;n<i;n+=1)a[n]=Gt(n,o)||"null";return u=a.length===0?"[]":Z?`[
`+Z+a.join(`,
`+Z)+`
`+s+"]":"["+a.join(",")+"]",Z=s,u}if(Ve&&typeof Ve=="object")for(i=Ve.length,n=0;n<i;n+=1)r=Ve[n],typeof r=="string"&&(u=Gt(r,o),u&&a.push(mn(r)+(Z?": ":":")+u));else for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(u=Gt(r,o),u&&a.push(mn(r)+(Z?": ":":")+u));return u=a.length===0?"{}":Z?`{
`+Z+a.join(`,
`+Z)+`
`+s+"}":"{"+a.join(",")+"}",Z=s,u;default:}}ji.exports=function(t,e,n){var r;if(Z="",Bt="",typeof n=="number")for(r=0;r<n;r+=1)Bt+=" ";else typeof n=="string"&&(Bt=n);if(Ve=e,e&&typeof e!="function"&&(typeof e!="object"||typeof e.length!="number"))throw new Error("JSON.stringify");return Gt("",{"":t})}});var zi=g(Nn=>{"use strict";Nn.parse=$i();Nn.stringify=Ui()});var Bi=g((ql,qi)=>{"use strict";var nu={}.toString;qi.exports=Array.isArray||function(t){return nu.call(t)=="[object Array]"}});var vn=g((Bl,Ki)=>{"use strict";var Gi=Object.prototype.toString;Ki.exports=function(e){var n=Gi.call(e),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Gi.call(e.callee)==="[object Function]"),r}});var to=g((Gl,eo)=>{"use strict";var Qi;Object.keys||(dt=Object.prototype.hasOwnProperty,gn=Object.prototype.toString,Hi=vn(),Tn=Object.prototype.propertyIsEnumerable,Wi=!Tn.call({toString:null},"toString"),Ji=Tn.call(function(){},"prototype"),pt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Kt=function(t){var e=t.constructor;return e&&e.prototype===t},Yi={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Zi=function(){if(typeof window>"u")return!1;for(var t in window)try{if(!Yi["$"+t]&&dt.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{Kt(window[t])}catch{return!0}}catch{return!0}return!1}(),Xi=function(t){if(typeof window>"u"||!Zi)return Kt(t);try{return Kt(t)}catch{return!1}},Qi=function(e){var n=e!==null&&typeof e=="object",r=gn.call(e)==="[object Function]",u=Hi(e),i=n&&gn.call(e)==="[object String]",s=[];if(!n&&!r&&!u)throw new TypeError("Object.keys called on a non-object");var a=Ji&&r;if(i&&e.length>0&&!dt.call(e,0))for(var o=0;o<e.length;++o)s.push(String(o));if(u&&e.length>0)for(var c=0;c<e.length;++c)s.push(String(c));else for(var f in e)!(a&&f==="prototype")&&dt.call(e,f)&&s.push(String(f));if(Wi)for(var p=Xi(e),l=0;l<pt.length;++l)!(p&&pt[l]==="constructor")&&dt.call(e,pt[l])&&s.push(pt[l]);return s});var dt,gn,Hi,Tn,Wi,Ji,pt,Kt,Yi,Zi,Xi;eo.exports=Qi});var oo=g((Kl,io)=>{"use strict";var iu=Array.prototype.slice,ou=vn(),ro=Object.keys,Ht=ro?function(e){return ro(e)}:to(),no=Object.keys;Ht.shim=function(){if(Object.keys){var e=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);e||(Object.keys=function(r){return ou(r)?no(iu.call(r)):no(r)})}else Object.keys=Ht;return Object.keys||Ht};io.exports=Ht});var so=g((Hl,ao)=>{"use strict";ao.exports=Object});var hn=g((Wl,uo)=>{"use strict";uo.exports=Error});var An=g((Jl,co)=>{"use strict";co.exports=EvalError});var Vn=g((Yl,lo)=>{"use strict";lo.exports=RangeError});var Sn=g((Zl,fo)=>{"use strict";fo.exports=ReferenceError});var Wt=g((Xl,po)=>{"use strict";po.exports=SyntaxError});var Se=g((Ql,yo)=>{"use strict";yo.exports=TypeError});var On=g((ef,mo)=>{"use strict";mo.exports=URIError});var En=g((tf,No)=>{"use strict";No.exports=Math.abs});var bn=g((rf,vo)=>{"use strict";vo.exports=Math.floor});var In=g((nf,go)=>{"use strict";go.exports=Math.max});var _n=g((of,To)=>{"use strict";To.exports=Math.min});var Dn=g((af,ho)=>{"use strict";ho.exports=Math.pow});var Vo=g((sf,Ao)=>{"use strict";Ao.exports=Object.getOwnPropertyDescriptor});var Pe=g((uf,So)=>{"use strict";var Jt=Vo();if(Jt)try{Jt([],"length")}catch{Jt=null}So.exports=Jt});var Ce=g((cf,Oo)=>{"use strict";var Yt=Object.defineProperty||!1;if(Yt)try{Yt({},"a",{value:1})}catch{Yt=!1}Oo.exports=Yt});var bo=g((lf,Eo)=>{"use strict";Eo.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var u=42;e[n]=u;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==u||a.enumerable!==!0)return!1}return!0}});var Rn=g((ff,_o)=>{"use strict";var Io=typeof Symbol<"u"&&Symbol,au=bo();_o.exports=function(){return typeof Io!="function"||typeof Symbol!="function"||typeof Io("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:au()}});var ko=g((df,Ro)=>{"use strict";var su="Function.prototype.bind called on incompatible ",uu=Object.prototype.toString,cu=Math.max,lu="[object Function]",Do=function(e,n){for(var r=[],u=0;u<e.length;u+=1)r[u]=e[u];for(var i=0;i<n.length;i+=1)r[i+e.length]=n[i];return r},fu=function(e,n){for(var r=[],u=n||0,i=0;u<e.length;u+=1,i+=1)r[i]=e[u];return r},du=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n};Ro.exports=function(e){var n=this;if(typeof n!="function"||uu.apply(n)!==lu)throw new TypeError(su+n);for(var r=fu(arguments,1),u,i=function(){if(this instanceof u){var f=n.apply(this,Do(r,arguments));return Object(f)===f?f:this}return n.apply(e,Do(r,arguments))},s=cu(0,n.length-r.length),a=[],o=0;o<s;o++)a[o]="$"+o;if(u=Function("binder","return function ("+du(a,",")+"){ return binder.apply(this,arguments); }")(i),n.prototype){var c=function(){};c.prototype=n.prototype,u.prototype=new c,c.prototype=null}return u}});var ce=g((pf,Po)=>{"use strict";var pu=ko();Po.exports=Function.prototype.bind||pu});var Zt=g((yf,Co)=>{"use strict";Co.exports=Function.prototype.call});var Xt=g((mf,xo)=>{"use strict";xo.exports=Function.prototype.apply});var Fo=g((Nf,wo)=>{"use strict";wo.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var kn=g((vf,Lo)=>{"use strict";var yu=ce(),mu=Xt(),Nu=Zt(),vu=Fo();Lo.exports=vu||yu.call(Nu,mu)});var Pn=g((gf,Mo)=>{"use strict";var gu=ce(),Tu=Se(),hu=Zt(),Au=kn();Mo.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new Tu("a function is required");return Au(gu,hu,e)}});var xn=g((Tf,qo)=>{"use strict";var Vu=Pn(),$o=Pe(),Uo;try{Uo=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var Cn=!!Uo&&$o&&$o(Object.prototype,"__proto__"),zo=Object,jo=zo.getPrototypeOf;qo.exports=Cn&&typeof Cn.get=="function"?Vu([Cn.get]):typeof jo=="function"?function(e){return jo(e==null?e:zo(e))}:!1});var wn=g((hf,Bo)=>{"use strict";var Su=Function.prototype.call,Ou=Object.prototype.hasOwnProperty,Eu=ce();Bo.exports=Eu.call(Su,Ou)});var Xo=g((Af,Zo)=>{"use strict";var O,Wo=so(),bu=hn(),Iu=An(),_u=Vn(),Du=Sn(),Le=Wt(),Fe=Se(),Ru=On(),ku=En(),Pu=bn(),Cu=In(),xu=_n(),wu=Dn(),Jo=Function,Fn=function(t){try{return Jo('"use strict"; return ('+t+").constructor;")()}catch{}},yt=Pe(),Fu=Ce(),Ln=function(){throw new Fe},Lu=yt?function(){try{return arguments.callee,Ln}catch{try{return yt(arguments,"callee").get}catch{return Ln}}}():Ln,xe=Rn()(),Mu=xn(),F=typeof Reflect=="function"&&Reflect.getPrototypeOf||Wo.getPrototypeOf||Mu,Yo=Xt(),mt=Zt(),we={},$u=typeof Uint8Array>"u"||!F?O:F(Uint8Array),Oe={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?O:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?O:ArrayBuffer,"%ArrayIteratorPrototype%":xe&&F?F([][Symbol.iterator]()):O,"%AsyncFromSyncIteratorPrototype%":O,"%AsyncFunction%":we,"%AsyncGenerator%":we,"%AsyncGeneratorFunction%":we,"%AsyncIteratorPrototype%":we,"%Atomics%":typeof Atomics>"u"?O:Atomics,"%BigInt%":typeof BigInt>"u"?O:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?O:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?O:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?O:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":bu,"%eval%":eval,"%EvalError%":Iu,"%Float32Array%":typeof Float32Array>"u"?O:Float32Array,"%Float64Array%":typeof Float64Array>"u"?O:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?O:FinalizationRegistry,"%Function%":Jo,"%GeneratorFunction%":we,"%Int8Array%":typeof Int8Array>"u"?O:Int8Array,"%Int16Array%":typeof Int16Array>"u"?O:Int16Array,"%Int32Array%":typeof Int32Array>"u"?O:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":xe&&F?F(F([][Symbol.iterator]())):O,"%JSON%":typeof JSON=="object"?JSON:O,"%Map%":typeof Map>"u"?O:Map,"%MapIteratorPrototype%":typeof Map>"u"||!xe||!F?O:F(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Wo,"%Object.getOwnPropertyDescriptor%":yt,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?O:Promise,"%Proxy%":typeof Proxy>"u"?O:Proxy,"%RangeError%":_u,"%ReferenceError%":Du,"%Reflect%":typeof Reflect>"u"?O:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?O:Set,"%SetIteratorPrototype%":typeof Set>"u"||!xe||!F?O:F(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?O:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":xe&&F?F(""[Symbol.iterator]()):O,"%Symbol%":xe?Symbol:O,"%SyntaxError%":Le,"%ThrowTypeError%":Lu,"%TypedArray%":$u,"%TypeError%":Fe,"%Uint8Array%":typeof Uint8Array>"u"?O:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?O:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?O:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?O:Uint32Array,"%URIError%":Ru,"%WeakMap%":typeof WeakMap>"u"?O:WeakMap,"%WeakRef%":typeof WeakRef>"u"?O:WeakRef,"%WeakSet%":typeof WeakSet>"u"?O:WeakSet,"%Function.prototype.call%":mt,"%Function.prototype.apply%":Yo,"%Object.defineProperty%":Fu,"%Math.abs%":ku,"%Math.floor%":Pu,"%Math.max%":Cu,"%Math.min%":xu,"%Math.pow%":wu};if(F)try{null.error}catch(t){Go=F(F(t)),Oe["%Error.prototype%"]=Go}var Go,ju=function t(e){var n;if(e==="%AsyncFunction%")n=Fn("async function () {}");else if(e==="%GeneratorFunction%")n=Fn("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Fn("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var u=t("%AsyncGenerator%");u&&F&&(n=F(u.prototype))}return Oe[e]=n,n},Ko={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Nt=ce(),Qt=wn(),Uu=Nt.call(mt,Array.prototype.concat),zu=Nt.call(Yo,Array.prototype.splice),Ho=Nt.call(mt,String.prototype.replace),er=Nt.call(mt,String.prototype.slice),qu=Nt.call(mt,RegExp.prototype.exec),Bu=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Gu=/\\(\\)?/g,Ku=function(e){var n=er(e,0,1),r=er(e,-1);if(n==="%"&&r!=="%")throw new Le("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Le("invalid intrinsic syntax, expected opening `%`");var u=[];return Ho(e,Bu,function(i,s,a,o){u[u.length]=a?Ho(o,Gu,"$1"):s||i}),u},Hu=function(e,n){var r=e,u;if(Qt(Ko,r)&&(u=Ko[r],r="%"+u[0]+"%"),Qt(Oe,r)){var i=Oe[r];if(i===we&&(i=ju(r)),typeof i>"u"&&!n)throw new Fe("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:u,name:r,value:i}}throw new Le("intrinsic "+e+" does not exist!")};Zo.exports=function(e,n){if(typeof e!="string"||e.length===0)throw new Fe("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Fe('"allowMissing" argument must be a boolean');if(qu(/^%?[^%]*%?$/,e)===null)throw new Le("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Ku(e),u=r.length>0?r[0]:"",i=Hu("%"+u+"%",n),s=i.name,a=i.value,o=!1,c=i.alias;c&&(u=c[0],zu(r,Uu([0,1],c)));for(var f=1,p=!0;f<r.length;f+=1){var l=r[f],y=er(l,0,1),N=er(l,-1);if((y==='"'||y==="'"||y==="`"||N==='"'||N==="'"||N==="`")&&y!==N)throw new Le("property names with quotes must have matching quotes");if((l==="constructor"||!p)&&(o=!0),u+="."+l,s="%"+u+"%",Qt(Oe,s))a=Oe[s];else if(a!=null){if(!(l in a)){if(!n)throw new Fe("base intrinsic for "+e+" exists, but the property is not available.");return}if(yt&&f+1>=r.length){var A=yt(a,l);p=!!A,p&&"get"in A&&!("originalValue"in A.get)?a=A.get:a=a[l]}else p=Qt(a,l),a=a[l];p&&!o&&(Oe[s]=a)}}return a}});var ra=g((Vf,ta)=>{"use strict";var Qo=Ce(),Wu=Wt(),Me=Se(),ea=Pe();ta.exports=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Me("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Me("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Me("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Me("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Me("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Me("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,o=!!ea&&ea(e,n);if(Qo)Qo(e,n,{configurable:s===null&&o?o.configurable:!s,enumerable:u===null&&o?o.enumerable:!u,value:r,writable:i===null&&o?o.writable:!i});else if(a||!u&&!i&&!s)e[n]=r;else throw new Wu("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var oa=g((Sf,ia)=>{"use strict";var Mn=Ce(),na=function(){return!!Mn};na.hasArrayLengthDefineBug=function(){if(!Mn)return null;try{return Mn([],"length",{value:1}).length!==1}catch{return!0}};ia.exports=na});var la=g((Of,ca)=>{"use strict";var Ju=Xo(),aa=ra(),Yu=oa()(),sa=Pe(),ua=Se(),Zu=Ju("%Math.floor%");ca.exports=function(e,n){if(typeof e!="function")throw new ua("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||Zu(n)!==n)throw new ua("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],u=!0,i=!0;if("length"in e&&sa){var s=sa(e,"length");s&&!s.configurable&&(u=!1),s&&!s.writable&&(i=!1)}return(u||i||!r)&&(Yu?aa(e,"length",n,!0,!0):aa(e,"length",n)),e}});var da=g((Ef,fa)=>{"use strict";var Xu=ce(),Qu=Xt(),ec=kn();fa.exports=function(){return ec(Xu,Qu,arguments)}});var ma=g((bf,tr)=>{"use strict";var tc=la(),pa=Ce(),rc=Pn(),ya=da();tr.exports=function(e){var n=rc(arguments),r=e.length-(arguments.length-1);return tc(n,1+(r>0?r:0),!0)};pa?pa(tr.exports,"apply",{value:ya}):tr.exports.apply=ya});var $n=g((If,Na)=>{"use strict";Na.exports=Object});var ga=g((_f,va)=>{"use strict";va.exports=Math.round});var ha=g((Df,Ta)=>{"use strict";Ta.exports=Number.isNaN||function(e){return e!==e}});var Va=g((Rf,Aa)=>{"use strict";var nc=ha();Aa.exports=function(e){return nc(e)||e===0?e:e<0?-1:1}});var jn=g((kf,Sa)=>{"use strict";Sa.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var Un=g((Pf,Oa)=>{"use strict";var ic=$n();Oa.exports=ic.getPrototypeOf||null});var Da=g((Cf,_a)=>{"use strict";var Ea=jn(),ba=Un(),Ia=xn();_a.exports=Ea?function(e){return Ea(e)}:ba?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return ba(e)}:Ia?function(e){return Ia(e)}:null});var zn=g((xf,Ra)=>{"use strict";Ra.exports=Function.prototype.apply});var rr=g((wf,ka)=>{"use strict";ka.exports=Function.prototype.call});var Ma=g((Ff,La)=>{"use strict";var S,oc=$n(),ac=hn(),sc=An(),uc=Vn(),cc=Sn(),ze=Wt(),Ue=Se(),lc=On(),fc=En(),dc=bn(),pc=In(),yc=_n(),mc=Dn(),Nc=ga(),vc=Va(),wa=Function,qn=function(t){try{return wa('"use strict"; return ('+t+").constructor;")()}catch{}},vt=Pe(),gc=Ce(),Bn=function(){throw new Ue},Tc=vt?function(){try{return arguments.callee,Bn}catch{try{return vt(arguments,"callee").get}catch{return Bn}}}():Bn,$e=Rn()(),L=Da(),hc=Un(),Ac=jn(),Fa=zn(),gt=rr(),je={},Vc=typeof Uint8Array>"u"||!L?S:L(Uint8Array),Ee={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":$e&&L?L([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":je,"%AsyncGenerator%":je,"%AsyncGeneratorFunction%":je,"%AsyncIteratorPrototype%":je,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ac,"%eval%":eval,"%EvalError%":sc,"%Float16Array%":typeof Float16Array>"u"?S:Float16Array,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":wa,"%GeneratorFunction%":je,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":$e&&L?L(L([][Symbol.iterator]())):S,"%JSON%":typeof JSON=="object"?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!$e||!L?S:L(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":oc,"%Object.getOwnPropertyDescriptor%":vt,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":uc,"%ReferenceError%":cc,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!$e||!L?S:L(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":$e&&L?L(""[Symbol.iterator]()):S,"%Symbol%":$e?Symbol:S,"%SyntaxError%":ze,"%ThrowTypeError%":Tc,"%TypedArray%":Vc,"%TypeError%":Ue,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":lc,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet,"%Function.prototype.call%":gt,"%Function.prototype.apply%":Fa,"%Object.defineProperty%":gc,"%Object.getPrototypeOf%":hc,"%Math.abs%":fc,"%Math.floor%":dc,"%Math.max%":pc,"%Math.min%":yc,"%Math.pow%":mc,"%Math.round%":Nc,"%Math.sign%":vc,"%Reflect.getPrototypeOf%":Ac};if(L)try{null.error}catch(t){Pa=L(L(t)),Ee["%Error.prototype%"]=Pa}var Pa,Sc=function t(e){var n;if(e==="%AsyncFunction%")n=qn("async function () {}");else if(e==="%GeneratorFunction%")n=qn("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=qn("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var u=t("%AsyncGenerator%");u&&L&&(n=L(u.prototype))}return Ee[e]=n,n},Ca={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Tt=ce(),nr=wn(),Oc=Tt.call(gt,Array.prototype.concat),Ec=Tt.call(Fa,Array.prototype.splice),xa=Tt.call(gt,String.prototype.replace),ir=Tt.call(gt,String.prototype.slice),bc=Tt.call(gt,RegExp.prototype.exec),Ic=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_c=/\\(\\)?/g,Dc=function(e){var n=ir(e,0,1),r=ir(e,-1);if(n==="%"&&r!=="%")throw new ze("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new ze("invalid intrinsic syntax, expected opening `%`");var u=[];return xa(e,Ic,function(i,s,a,o){u[u.length]=a?xa(o,_c,"$1"):s||i}),u},Rc=function(e,n){var r=e,u;if(nr(Ca,r)&&(u=Ca[r],r="%"+u[0]+"%"),nr(Ee,r)){var i=Ee[r];if(i===je&&(i=Sc(r)),typeof i>"u"&&!n)throw new Ue("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:u,name:r,value:i}}throw new ze("intrinsic "+e+" does not exist!")};La.exports=function(e,n){if(typeof e!="string"||e.length===0)throw new Ue("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Ue('"allowMissing" argument must be a boolean');if(bc(/^%?[^%]*%?$/,e)===null)throw new ze("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Dc(e),u=r.length>0?r[0]:"",i=Rc("%"+u+"%",n),s=i.name,a=i.value,o=!1,c=i.alias;c&&(u=c[0],Ec(r,Oc([0,1],c)));for(var f=1,p=!0;f<r.length;f+=1){var l=r[f],y=ir(l,0,1),N=ir(l,-1);if((y==='"'||y==="'"||y==="`"||N==='"'||N==="'"||N==="`")&&y!==N)throw new ze("property names with quotes must have matching quotes");if((l==="constructor"||!p)&&(o=!0),u+="."+l,s="%"+u+"%",nr(Ee,s))a=Ee[s];else if(a!=null){if(!(l in a)){if(!n)throw new Ue("base intrinsic for "+e+" exists, but the property is not available.");return}if(vt&&f+1>=r.length){var A=vt(a,l);p=!!A,p&&"get"in A&&!("originalValue"in A.get)?a=A.get:a=a[l]}else p=nr(a,l),a=a[l];p&&!o&&(Ee[s]=a)}}return a}});var ja=g((Lf,$a)=>{"use strict";$a.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var za=g((Mf,Ua)=>{"use strict";var kc=ce(),Pc=zn(),Cc=rr(),xc=ja();Ua.exports=xc||kc.call(Cc,Pc)});var Ba=g(($f,qa)=>{"use strict";var wc=ce(),Fc=Se(),Lc=rr(),Mc=za();qa.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new Fc("a function is required");return Mc(wc,Lc,e)}});var Wa=g((jf,Ha)=>{"use strict";var Ga=Ma(),Ka=Ba(),$c=Ka([Ga("%String.prototype.indexOf%")]);Ha.exports=function(e,n){var r=Ga(e,!!n);return typeof r=="function"&&$c(e,".prototype.")>-1?Ka([r]):r}});var Xa=g((Uf,Za)=>{"use strict";var or=(typeof JSON<"u"?JSON:zi()).stringify,jc=Bi(),Uc=oo(),zc=ma(),ar=Wa(),qc=ar("Array.prototype.join"),Ja=ar("Array.prototype.indexOf"),Bc=ar("Array.prototype.splice"),Gc=ar("Array.prototype.sort"),Ya=function(e,n){for(var r="",u=0;u<e;u+=1)r+=n;return r},Kc=function(t,e,n){return n};Za.exports=function(e){var n=arguments.length>1?arguments[1]:void 0,r=n&&n.space||"";typeof r=="number"&&(r=Ya(r," "));var u=!!n&&typeof n.cycles=="boolean"&&n.cycles,i=n&&n.replacer?zc(n.replacer):Kc;if(n&&typeof n.collapseEmpty<"u"&&typeof n.collapseEmpty!="boolean")throw new TypeError("`collapseEmpty` must be a boolean, if provided");var s=!!n&&n.collapseEmpty,a=typeof n=="function"?n:n&&n.cmp,o=a&&function(f){var p=a.length>2&&function(y){return f[y]};return function(l,y){return a({key:l,value:f[l]},{key:y,value:f[y]},p?{__proto__:null,get:p}:void 0)}},c=[];return function f(p,l,y,N){var A=r?`
`+Ya(N,r):"",k=r?": ":":";if(y&&y.toJSON&&typeof y.toJSON=="function"&&(y=y.toJSON()),y=i(p,l,y),y!==void 0){if(typeof y!="object"||y===null)return or(y);var K=function(ci,pr){return s&&ci.length===0?pr:(pr==="[]"?"[":"{")+qc(ci,",")+A+(pr==="[]"?"]":"}")};if(jc(y)){for(var H=[],M=0;M<y.length;M++){var fr=f(y,M,y[M],N+1)||or(null);H[H.length]=A+r+fr}return K(H,"[]")}if(Ja(c,y)!==-1){if(u)return or("__cycle__");throw new TypeError("Converting circular structure to JSON")}else c[c.length]=y;for(var Vt=Gc(Uc(y),o&&o(y)),H=[],M=0;M<Vt.length;M++){var l=Vt[M],dr=f(y,l,y[l],N+1);if(dr){var ds=or(l)+k+dr;H[H.length]=A+r+ds}}return Bc(c,Ja(c,y),1),K(H,"{}")}}({"":e},"",e,0)}});var Rl={};Ts(Rl,{CODAMA_ERROR__ANCHOR__ACCOUNT_TYPE_MISSING:()=>Ti,CODAMA_ERROR__ANCHOR__ARGUMENT_TYPE_MISSING:()=>hi,CODAMA_ERROR__ANCHOR__PROGRAM_ID_KIND_UNIMPLEMENTED:()=>Si,CODAMA_ERROR__ANCHOR__SEED_KIND_UNIMPLEMENTED:()=>Vi,CODAMA_ERROR__ANCHOR__TYPE_PATH_MISSING:()=>Ai,CODAMA_ERROR__ANCHOR__UNRECOGNIZED_IDL_TYPE:()=>gi,CODAMA_ERROR__DISCRIMINATOR_FIELD_HAS_NO_DEFAULT_VALUE:()=>Ni,CODAMA_ERROR__DISCRIMINATOR_FIELD_NOT_FOUND:()=>mi,CODAMA_ERROR__ENUM_VARIANT_NOT_FOUND:()=>yi,CODAMA_ERROR__LINKED_NODE_NOT_FOUND:()=>bt,CODAMA_ERROR__NODE_FILESYSTEM_FUNCTION_UNAVAILABLE:()=>fi,CODAMA_ERROR__RENDERERS__UNSUPPORTED_NODE:()=>Oi,CODAMA_ERROR__UNEXPECTED_NESTED_NODE_KIND:()=>Et,CODAMA_ERROR__UNEXPECTED_NODE_KIND:()=>Ot,CODAMA_ERROR__UNRECOGNIZED_BYTES_ENCODING:()=>pi,CODAMA_ERROR__UNRECOGNIZED_NODE_KIND:()=>St,CODAMA_ERROR__UNRECOGNIZED_NUMBER_FORMAT:()=>di,CODAMA_ERROR__VERSION_MISMATCH:()=>It,CODAMA_ERROR__VISITORS__ACCOUNT_FIELD_NOT_FOUND:()=>Pt,CODAMA_ERROR__VISITORS__CANNOT_ADD_DUPLICATED_PDA_NAMES:()=>_t,CODAMA_ERROR__VISITORS__CANNOT_EXTEND_MISSING_VISIT_FUNCTION:()=>xt,CODAMA_ERROR__VISITORS__CANNOT_FLATTEN_STRUCT_WITH_CONFLICTING_ATTRIBUTES:()=>_e,CODAMA_ERROR__VISITORS__CANNOT_REMOVE_LAST_PATH_IN_NODE_STACK:()=>Ft,CODAMA_ERROR__VISITORS__CANNOT_USE_OPTIONAL_ACCOUNT_AS_PDA_SEED_VALUE:()=>kt,CODAMA_ERROR__VISITORS__CYCLIC_DEPENDENCY_DETECTED_WHEN_RESOLVING_INSTRUCTION_DEFAULT_VALUES:()=>Rt,CODAMA_ERROR__VISITORS__FAILED_TO_VALIDATE_NODE:()=>wt,CODAMA_ERROR__VISITORS__INSTRUCTION_ENUM_ARGUMENT_NOT_FOUND:()=>He,CODAMA_ERROR__VISITORS__INVALID_INSTRUCTION_DEFAULT_VALUE_DEPENDENCY:()=>Ke,CODAMA_ERROR__VISITORS__INVALID_NUMBER_WRAPPER:()=>Ct,CODAMA_ERROR__VISITORS__INVALID_PDA_SEED_VALUES:()=>Dt,CODAMA_ERROR__VISITORS__RENDER_MAP_KEY_NOT_FOUND:()=>vi,CONTEXTUAL_VALUE_NODES:()=>Di,COUNT_NODES:()=>Qe,CodamaError:()=>V,DISCRIMINATOR_NODES:()=>_r,ENUM_VARIANT_TYPE_NODES:()=>Fr,INSTRUCTION_INPUT_VALUE_NODES:()=>fe,LINKABLE_NODES:()=>Jn,LINK_NODES:()=>Cs,LOG_LEVELS:()=>ss,LinkableDictionary:()=>$,NodeStack:()=>q,PDA_SEED_NODES:()=>Cr,REGISTERED_CONTEXTUAL_VALUE_NODE_KINDS:()=>_i,REGISTERED_COUNT_NODE_KINDS:()=>Or,REGISTERED_DISCRIMINATOR_NODE_KINDS:()=>Ir,REGISTERED_LINK_NODE_KINDS:()=>Vr,REGISTERED_NODE_KINDS:()=>z,REGISTERED_PDA_SEED_NODE_KINDS:()=>Pr,REGISTERED_TYPE_NODE_KINDS:()=>Ut,REGISTERED_VALUE_NODE_KINDS:()=>Ii,STANDALONE_CONTEXTUAL_VALUE_NODE_KINDS:()=>vr,STANDALONE_TYPE_NODE_KINDS:()=>jr,STANDALONE_VALUE_NODE_KINDS:()=>Nr,TYPE_NODES:()=>_,VALUE_NODES:()=>x,accountBumpValueNode:()=>Ps,accountLinkNode:()=>Ye,accountNode:()=>ee,accountValueNode:()=>We,addPdasVisitor:()=>el,amountTypeNode:()=>rt,argumentValueNode:()=>Je,arrayTypeNode:()=>nt,arrayValueNode:()=>Zr,assertIsNestedTypeNode:()=>Q,assertIsNode:()=>d,assertIsNodeFilter:()=>ut,assertIsNodePath:()=>es,booleanTypeNode:()=>wr,booleanValueNode:()=>Gs,bottomUpTransformerVisitor:()=>b,bytesTypeNode:()=>tt,bytesValueNode:()=>Rr,camelCase:()=>v,capitalize:()=>bi,conditionalValueNode:()=>mr,consoleLogVisitor:()=>Jc,constantDiscriminatorNode:()=>br,constantPdaSeedNode:()=>Re,constantPdaSeedNodeFromBytes:()=>$s,constantPdaSeedNodeFromProgramId:()=>Ls,constantPdaSeedNodeFromString:()=>Ms,constantValueNode:()=>lt,constantValueNodeFromBytes:()=>Hs,constantValueNodeFromString:()=>Ks,createFromJson:()=>Dl,createFromRoot:()=>ui,createSubInstructionsFromEnumArgsVisitor:()=>rl,dateTimeTypeNode:()=>it,deduplicateIdenticalDefinedTypesVisitor:()=>nl,deduplicateInstructionDependencies:()=>Hn,definedTypeLinkNode:()=>se,definedTypeNode:()=>ft,deleteNodesVisitor:()=>Qn,enumEmptyVariantTypeNode:()=>pe,enumStructVariantTypeNode:()=>he,enumTupleVariantTypeNode:()=>ot,enumTypeNode:()=>at,enumValueNode:()=>Xr,errorNode:()=>un,extendVisitor:()=>U,fieldDiscriminatorNode:()=>et,fillDefaultPdaSeedValuesVisitor:()=>oi,findFirstNodeFromPath:()=>Wc,findInstructionNodeFromPath:()=>Gn,findLastNodeFromPath:()=>Zn,findProgramNodeFromPath:()=>le,fixedCountNode:()=>xs,fixedSizeTypeNode:()=>st,flattenInstructionArguments:()=>ii,flattenInstructionDataArgumentsVisitor:()=>tl,flattenStruct:()=>cs,flattenStructVisitor:()=>sl,getAllAccounts:()=>Zs,getAllDefinedTypes:()=>ln,getAllErrors:()=>Xs,getAllInstructionArguments:()=>re,getAllInstructions:()=>Ci,getAllInstructionsWithSubs:()=>yr,getAllPdas:()=>Ys,getAllPrograms:()=>te,getByteSizeVisitor:()=>ei,getCommonInstructionAccountDefaultRules:()=>ll,getConjunctiveNodeSelectorFunction:()=>Yn,getDebugStringVisitor:()=>Yc,getDefinedTypeHistogramVisitor:()=>ai,getInstructionDependencies:()=>be,getLastNodeFromPath:()=>P,getLevelIndex:()=>At,getNodePathUntilLastNode:()=>Kn,getNodeSelectorFunction:()=>ur,getRecordLinkablesVisitor:()=>lr,getResolvedInstructionInputsVisitor:()=>ri,getUniqueHashStringVisitor:()=>ni,getValidationItemsVisitor:()=>Xc,getVisitFunctionName:()=>ie,hiddenPrefixTypeNode:()=>Lr,hiddenSuffixTypeNode:()=>Mr,identityValueNode:()=>gr,identityVisitor:()=>qe,instructionAccountLinkNode:()=>hr,instructionAccountNode:()=>ke,instructionArgumentLinkNode:()=>Ar,instructionArgumentNode:()=>w,instructionByteDeltaNode:()=>cn,instructionLinkNode:()=>Ze,instructionNode:()=>j,instructionRemainingAccountsNode:()=>fn,interceptFirstVisitVisitor:()=>os,interceptVisitor:()=>oe,isCodamaError:()=>Es,isDataEnum:()=>Bs,isDecimal:()=>qs,isFilledNodePath:()=>Xn,isInteger:()=>zs,isNestedTypeNode:()=>ki,isNode:()=>m,isNodeFilter:()=>Ur,isNodePath:()=>Ne,isScalarEnum:()=>jt,isSignedInteger:()=>js,isUnsignedInteger:()=>Us,kebabCase:()=>Rs,logError:()=>bs,logInfo:()=>_s,logWarn:()=>Is,mapEntryValueNode:()=>Qr,mapTypeNode:()=>$r,mapValueNode:()=>en,mapVisitor:()=>ht,mergeVisitor:()=>ve,nodePathToString:()=>rs,nodePathToStringArray:()=>ts,nonNullableIdentityVisitor:()=>ae,noneValueNode:()=>Ws,numberTypeNode:()=>de,numberValueNode:()=>tn,optionTypeNode:()=>zr,parseDocs:()=>W,parseOptionalAccountStrategy:()=>xi,pascalCase:()=>Mt,payerValueNode:()=>Tr,pdaLinkNode:()=>Te,pdaNode:()=>ne,pdaSeedValueNode:()=>De,pdaValueNode:()=>Xe,pipe:()=>I,postOffsetTypeNode:()=>qr,preOffsetTypeNode:()=>Br,prefixedCountNode:()=>Er,programIdValueNode:()=>$t,programLinkNode:()=>ge,programNode:()=>Y,publicKeyTypeNode:()=>Ri,publicKeyValueNode:()=>C,recordLinkablesOnFirstVisitVisitor:()=>G,recordNodeStackVisitor:()=>B,remainderCountNode:()=>ws,remainderOptionTypeNode:()=>Gr,removeDocsVisitor:()=>is,removeNullAndAssertIsNodeFilter:()=>D,resolveNestedTypeNode:()=>Ae,resolverValueNode:()=>Sr,rootNode:()=>dn,rootNodeVisitor:()=>Ie,safeCaptureStackTrace:()=>Ds,sentinelTypeNode:()=>Kr,setAccountDiscriminatorFromFieldVisitor:()=>ul,setFixedAccountSizesVisitor:()=>cl,setInstructionAccountDefaultValuesVisitor:()=>fl,setInstructionDiscriminatorsVisitor:()=>dl,setNumberWrappersVisitor:()=>pl,setStructDefaultValuesVisitor:()=>yl,setTypeNode:()=>Hr,setValueNode:()=>rn,singleNodeVisitor:()=>ti,sizeDiscriminatorNode:()=>Fs,sizePrefixTypeNode:()=>Wr,snakeCase:()=>ks,solAmountTypeNode:()=>ct,someValueNode:()=>nn,staticVisitor:()=>sr,stringTypeNode:()=>Dr,stringValueNode:()=>kr,structFieldTypeNode:()=>X,structFieldTypeNodeFromInstructionArgumentNode:()=>Pi,structFieldValueNode:()=>on,structTypeNode:()=>J,structTypeNodeFromInstructionArgumentNodes:()=>Js,structValueNode:()=>an,tapVisitor:()=>Zc,throwValidatorItemsVisitor:()=>Qc,titleCase:()=>Lt,topDownTransformerVisitor:()=>cr,transformDefinedTypesIntoAccountsVisitor:()=>ml,transformNestedTypeNode:()=>ye,transformU8ArraysToBytesVisitor:()=>Nl,tupleTypeNode:()=>Jr,tupleValueNode:()=>sn,unwrapDefinedTypesVisitor:()=>si,unwrapInstructionArgsDefinedTypesVisitor:()=>vl,unwrapTupleEnumWithSingleStructVisitor:()=>gl,unwrapTypeDefinedLinksVisitor:()=>Tl,updateAccountsVisitor:()=>Vl,updateDefinedTypesVisitor:()=>Sl,updateErrorsVisitor:()=>Ol,updateInstructionsVisitor:()=>El,updateProgramsVisitor:()=>_l,validateCodamaVersion:()=>fs,validationItem:()=>R,variablePdaSeedNode:()=>xr,visit:()=>T,visitOrElse:()=>Hc,voidVisitor:()=>as,zeroableOptionTypeNode:()=>Yr});var St=1,Ot=2,Et=3,bt=4,fi=5,It=6,di=7,pi=8,yi=9,mi=10,Ni=11,_t=12e5,Dt=1200001,Rt=1200002,kt=1200003,Ke=1200004,Pt=1200005,Ct=1200006,xt=1200007,wt=1200008,He=1200009,_e=1200010,vi=1200011,Ft=1200012,gi=21e5,Ti=2100001,hi=2100002,Ai=2100003,Vi=2100004,Si=2100005,Oi=28e5;function Ei(t){return Array.isArray(t)?"%5B"+t.map(Ei).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function Vs([t,e]){return`${t}=${Ei(e)}`}function Ss(t){let e=Object.entries(t).map(Vs).join("&");return btoa(e)}var Pl={[Ti]:"Account type [$name] is missing from the IDL types.",[hi]:"Argument name [$name] is missing from the instruction definition.",[Si]:"Program ID kind [$kind] is not implemented.",[Vi]:"Seed kind [$kind] is not implemented.",[Ai]:"Field type is missing for path [$path] in [$idlType].",[gi]:"Unrecognized Anchor IDL type [$idlType].",[Ni]:"Discriminator field [$field] has no default value.",[mi]:"Could not find discriminator field [$field]",[yi]:"Enum variant [$variant] not found in enum type [$enumName].",[bt]:"Could not find linked node [$name] from [$kind].",[fi]:"Node.js filesystem function [$fsFunction] is not available in your environment.",[Oi]:"Cannot render the encountered node of kind [$kind].",[Et]:"Expected nested node of kind [$expectedKinds], got [$kind]",[Ot]:"Expected node of kind [$expectedKinds], got [$kind].",[pi]:"Unrecognized bytes encoding [$encoding].",[St]:"Unrecognized node kind [$kind].",[di]:"Unrecognized number format [$format].",[It]:"The provided RootNode version [$rootVersion] is not compatible with the installed Codama version [$codamaVersion].",[Pt]:"Account [$name] does not have a field named [$missingField].",[_t]:"Cannot add PDAs to program [$programName] because the following PDA names already exist [$duplicatedPdaNames].",[xt]:"Cannot extend visitor with function [$visitFunction] as the base visitor does not support it.",[_e]:"Cannot flatten struct since this would cause the following attributes to conflict [$conflictingAttributes].",[Ft]:"Cannot remove the last path in the node stack.",[kt]:"Cannot use optional account [$seedValueName] as the [$seedName] PDA seed for the [$instructionAccountName] account of the [$instructionName] instruction.",[Rt]:"Circular dependency detected when resolving the accounts and arguments' default values of the [$instructionName] instruction. Got the following dependency cycle [$formattedCycle].",[wt]:"Failed to validate the given node [$formattedHistogram].",[He]:"Could not find an enum argument named [$argumentName] for instruction [$instructionName].",[Ke]:"Dependency [$dependencyName] of kind [$dependencyKind] is not a valid dependency of [$parentName] of kind [$parentKind] in the [$instructionName] instruction.",[Ct]:"Invalid number wrapper kind [$wrapper].",[Dt]:"Invalid seed values for PDA [$pdaName] in instruction [$instructionName].",[vi]:"Cannot find key [$key] in RenderMap."};function Os(t,e={}){{let n=`Codama error #${t}; Decode this error by running \`npx @codama/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Ss(e)}'`),`${n}\``}}function Es(t,e){return t instanceof Error&&t.name==="CodamaError"?e!==void 0?t.context.__code===e:!0:!1}var V=class extends Error{constructor(...[e,n]){let r,u;if(n){let{cause:s,...a}=n;s&&(u={cause:s}),Object.keys(a).length>0&&(r=a)}let i=Os(e,r);super(i,u);Ge(this,"context");this.context={__code:e,...r},this.name="CodamaError"}};function bs(t){console.error(t)}function Is(t){console.warn(t)}function _s(t){console.log(t)}function Ds(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function W(t){return t==null?[]:Array.isArray(t)?t:[t]}function bi(t){return t.length===0?t:t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}function Lt(t){return t.replace(/([A-Z])/g," $1").split(/[^a-zA-Z0-9]+/).filter(e=>e.length>0).map(bi).join(" ")}function Mt(t){return Lt(t).split(" ").join("")}function v(t){if(t.length===0)return t;let e=Mt(t);return e.charAt(0).toLowerCase()+e.slice(1)}function Rs(t){return Lt(t).split(" ").join("-").toLowerCase()}function ks(t){return Lt(t).split(" ").join("_").toLowerCase()}function Ps(t){return Object.freeze({kind:"accountBumpValueNode",name:v(t)})}function We(t){return Object.freeze({kind:"accountValueNode",name:v(t)})}function Je(t){return Object.freeze({kind:"argumentValueNode",name:v(t)})}function mr(t){return Object.freeze({kind:"conditionalValueNode",condition:t.condition,...t.value!==void 0&&{value:t.value},...t.ifTrue!==void 0&&{ifTrue:t.ifTrue},...t.ifFalse!==void 0&&{ifFalse:t.ifFalse}})}var Nr=["arrayValueNode","bytesValueNode","booleanValueNode","constantValueNode","enumValueNode","mapValueNode","noneValueNode","numberValueNode","setValueNode","someValueNode","structValueNode","tupleValueNode","publicKeyValueNode","stringValueNode"],Ii=[...Nr,"mapEntryValueNode","structFieldValueNode"],x=Nr,vr=["accountBumpValueNode","accountValueNode","argumentValueNode","conditionalValueNode","identityValueNode","payerValueNode","pdaValueNode","programIdValueNode","resolverValueNode"],_i=[...vr,"pdaSeedValueNode"],Di=vr,fe=[...x,...Di,"programLinkNode"];function gr(){return Object.freeze({kind:"identityValueNode"})}function Tr(){return Object.freeze({kind:"payerValueNode"})}function De(t,e){return Object.freeze({kind:"pdaSeedValueNode",name:v(t),value:e})}function ge(t){return Object.freeze({kind:"programLinkNode",name:v(t)})}function Ye(t,e){return Object.freeze({kind:"accountLinkNode",...e===void 0?{}:{program:typeof e=="string"?ge(e):e},name:v(t)})}function se(t,e){return Object.freeze({kind:"definedTypeLinkNode",...e===void 0?{}:{program:typeof e=="string"?ge(e):e},name:v(t)})}function Ze(t,e){return Object.freeze({kind:"instructionLinkNode",...e===void 0?{}:{program:typeof e=="string"?ge(e):e},name:v(t)})}function hr(t,e){return Object.freeze({kind:"instructionAccountLinkNode",...e===void 0?{}:{instruction:typeof e=="string"?Ze(e):e},name:v(t)})}function Ar(t,e){return Object.freeze({kind:"instructionArgumentLinkNode",...e===void 0?{}:{instruction:typeof e=="string"?Ze(e):e},name:v(t)})}var Vr=["accountLinkNode","definedTypeLinkNode","instructionAccountLinkNode","instructionArgumentLinkNode","instructionLinkNode","pdaLinkNode","programLinkNode"],Cs=Vr;function Te(t,e){return Object.freeze({kind:"pdaLinkNode",...e===void 0?{}:{program:typeof e=="string"?ge(e):e},name:v(t)})}function Xe(t,e=[]){return Object.freeze({kind:"pdaValueNode",pda:typeof t=="string"?Te(t):t,seeds:e})}function $t(){return Object.freeze({kind:"programIdValueNode"})}function Sr(t,e={}){return Object.freeze({kind:"resolverValueNode",name:v(t),docs:W(e.docs),dependsOn:e.dependsOn})}var Or=["fixedCountNode","remainderCountNode","prefixedCountNode"],Qe=Or;function xs(t){return Object.freeze({kind:"fixedCountNode",value:t})}function Er(t){return Object.freeze({kind:"prefixedCountNode",prefix:t})}function ws(){return Object.freeze({kind:"remainderCountNode"})}function br(t,e=0){return Object.freeze({kind:"constantDiscriminatorNode",offset:e,constant:t})}var Ir=["constantDiscriminatorNode","fieldDiscriminatorNode","sizeDiscriminatorNode"],_r=Ir;function et(t,e=0){return Object.freeze({kind:"fieldDiscriminatorNode",name:v(t),offset:e})}function Fs(t){return Object.freeze({kind:"sizeDiscriminatorNode",size:t})}function tt(){return Object.freeze({kind:"bytesTypeNode"})}function Ri(){return Object.freeze({kind:"publicKeyTypeNode"})}function Dr(t){return Object.freeze({kind:"stringTypeNode",encoding:t})}function Rr(t,e){return Object.freeze({kind:"bytesValueNode",data:e,encoding:t})}function kr(t){return Object.freeze({kind:"stringValueNode",string:t})}function Re(t,e){return Object.freeze({kind:"constantPdaSeedNode",type:t,value:e})}function Ls(){return Re(Ri(),$t())}function Ms(t,e){return Re(Dr(t),kr(e))}function $s(t,e){return Re(tt(),Rr(t,e))}var Pr=["constantPdaSeedNode","variablePdaSeedNode"],Cr=Pr;function xr(t,e,n){return Object.freeze({kind:"variablePdaSeedNode",name:v(t),docs:W(n),type:e})}function rt(t,e,n){return Object.freeze({kind:"amountTypeNode",decimals:e,...n!==void 0&&{unit:n},number:t})}function nt(t,e){return Object.freeze({kind:"arrayTypeNode",item:t,count:e})}function de(t,e="le"){return Object.freeze({kind:"numberTypeNode",format:t,endian:e})}function js(t){return t.format.startsWith("i")}function Us(t){return t.format.startsWith("u")||t.format==="shortU16"}function zs(t){return!t.format.startsWith("f")}function qs(t){return t.format.startsWith("f")}function wr(t){return Object.freeze({kind:"booleanTypeNode",size:t!=null?t:de("u8")})}function it(t){return Object.freeze({kind:"dateTimeTypeNode",number:t})}function pe(t,e){return Object.freeze({kind:"enumEmptyVariantTypeNode",name:v(t),discriminator:e})}function he(t,e,n){return Object.freeze({kind:"enumStructVariantTypeNode",name:v(t),...n!==void 0&&{discriminator:n},struct:e})}function ot(t,e,n){return Object.freeze({kind:"enumTupleVariantTypeNode",name:v(t),...n!==void 0&&{discriminator:n},tuple:e})}function at(t,e={}){var n;return Object.freeze({kind:"enumTypeNode",variants:t,size:(n=e.size)!=null?n:de("u8")})}function jt(t){return t.variants.every(e=>e.kind==="enumEmptyVariantTypeNode")}function Bs(t){return!jt(t)}var Fr=["enumEmptyVariantTypeNode","enumStructVariantTypeNode","enumTupleVariantTypeNode"];function st(t,e){return Object.freeze({kind:"fixedSizeTypeNode",size:e,type:t})}function Lr(t,e){return Object.freeze({kind:"hiddenPrefixTypeNode",type:t,prefix:e})}function Mr(t,e){return Object.freeze({kind:"hiddenSuffixTypeNode",type:t,suffix:e})}function $r(t,e,n){return Object.freeze({kind:"mapTypeNode",key:t,value:e,count:n})}var jr=["amountTypeNode","arrayTypeNode","booleanTypeNode","bytesTypeNode","dateTimeTypeNode","enumTypeNode","fixedSizeTypeNode","hiddenPrefixTypeNode","hiddenSuffixTypeNode","mapTypeNode","numberTypeNode","optionTypeNode","postOffsetTypeNode","preOffsetTypeNode","publicKeyTypeNode","remainderOptionTypeNode","sentinelTypeNode","setTypeNode","sizePrefixTypeNode","solAmountTypeNode","stringTypeNode","structTypeNode","tupleTypeNode","zeroableOptionTypeNode"],Ut=[...jr,"structFieldTypeNode","enumEmptyVariantTypeNode","enumStructVariantTypeNode","enumTupleVariantTypeNode"],_=[...jr,"definedTypeLinkNode"],z=[..._i,...Ir,...Vr,...Pr,...Or,...Ut,...Ii,"rootNode","programNode","pdaNode","accountNode","instructionAccountNode","instructionArgumentNode","instructionByteDeltaNode","instructionNode","instructionRemainingAccountsNode","errorNode","definedTypeNode"];function m(t,e){let n=Array.isArray(e)?e:[e];return!!t&&n.includes(t.kind)}function d(t,e){var r;let n=Array.isArray(e)?e:[e];if(!m(t,n))throw new V(Ot,{expectedKinds:n,kind:(r=t==null?void 0:t.kind)!=null?r:null,node:t})}function Ur(t){return e=>m(e,t)}function ut(t){return e=>(d(e,t),!0)}function D(t){return e=>(e&&d(e,t),e!=null)}function Ae(t){switch(t.kind){case"fixedSizeTypeNode":case"hiddenPrefixTypeNode":case"hiddenSuffixTypeNode":case"postOffsetTypeNode":case"preOffsetTypeNode":case"sentinelTypeNode":case"sizePrefixTypeNode":return Ae(t.type);default:return t}}function ye(t,e){switch(t.kind){case"fixedSizeTypeNode":case"hiddenPrefixTypeNode":case"hiddenSuffixTypeNode":case"postOffsetTypeNode":case"preOffsetTypeNode":case"sentinelTypeNode":case"sizePrefixTypeNode":return Object.freeze({...t,type:ye(t.type,e)});default:return e(t)}}function ki(t,e){if(!m(t,_))return!1;let n=Array.isArray(e)?e:[e],r=Ae(t);return!!t&&n.includes(r.kind)}function Q(t,e){var r;let n=Array.isArray(e)?e:[e];if(!ki(t,n))throw new V(Et,{expectedKinds:n,kind:(r=t==null?void 0:t.kind)!=null?r:null,node:t})}function zr(t,e={}){var n,r;return Object.freeze({kind:"optionTypeNode",fixed:(n=e.fixed)!=null?n:!1,item:t,prefix:(r=e.prefix)!=null?r:de("u8")})}function qr(t,e,n){return Object.freeze({kind:"postOffsetTypeNode",offset:e,strategy:n!=null?n:"relative",type:t})}function Br(t,e,n){return Object.freeze({kind:"preOffsetTypeNode",offset:e,strategy:n!=null?n:"relative",type:t})}function Gr(t){return Object.freeze({kind:"remainderOptionTypeNode",item:t})}function Kr(t,e){return Object.freeze({kind:"sentinelTypeNode",type:t,sentinel:e})}function Hr(t,e){return Object.freeze({kind:"setTypeNode",item:t,count:e})}function Wr(t,e){return Object.freeze({kind:"sizePrefixTypeNode",type:t,prefix:e})}function ct(t){return Object.freeze({kind:"solAmountTypeNode",number:t})}function X(t){return Object.freeze({kind:"structFieldTypeNode",name:v(t.name),...t.defaultValueStrategy!==void 0&&{defaultValueStrategy:t.defaultValueStrategy},docs:W(t.docs),type:t.type,...t.defaultValue!==void 0&&{defaultValue:t.defaultValue}})}function J(t){return Object.freeze({kind:"structTypeNode",fields:t})}function Jr(t){return Object.freeze({kind:"tupleTypeNode",items:t})}function Yr(t,e){return Object.freeze({kind:"zeroableOptionTypeNode",item:t,...e!==void 0&&{zeroValue:e}})}function Zr(t){return Object.freeze({kind:"arrayValueNode",items:t})}function Gs(t){return Object.freeze({kind:"booleanValueNode",boolean:t})}function lt(t,e){return Object.freeze({kind:"constantValueNode",type:t,value:e})}function Ks(t,e){return lt(Dr(t),kr(e))}function Hs(t,e){return lt(tt(),Rr(t,e))}function Xr(t,e,n){return Object.freeze({kind:"enumValueNode",variant:v(e),enum:typeof t=="string"?se(t):t,...n!==void 0&&{value:n}})}function Qr(t,e){return Object.freeze({kind:"mapEntryValueNode",key:t,value:e})}function en(t){return Object.freeze({kind:"mapValueNode",entries:t})}function Ws(){return Object.freeze({kind:"noneValueNode"})}function tn(t){return Object.freeze({kind:"numberValueNode",number:t})}function C(t,e){return Object.freeze({kind:"publicKeyValueNode",publicKey:t,...e!==void 0&&{identifier:v(e)}})}function rn(t){return Object.freeze({kind:"setValueNode",items:t})}function nn(t){return Object.freeze({kind:"someValueNode",value:t})}function on(t,e){return Object.freeze({kind:"structFieldValueNode",name:v(t),value:e})}function an(t){return Object.freeze({kind:"structValueNode",fields:t})}function sn(t){return Object.freeze({kind:"tupleValueNode",items:t})}function ee(t){var e;return Object.freeze({kind:"accountNode",name:v(t.name),...t.size===void 0?{}:{size:t.size},docs:W(t.docs),data:(e=t.data)!=null?e:J([]),...t.pda!==void 0&&{pda:t.pda},...t.discriminators!==void 0&&{discriminators:t.discriminators}})}function ft(t){return Object.freeze({kind:"definedTypeNode",name:v(t.name),docs:W(t.docs),type:t.type})}function un(t){return Object.freeze({kind:"errorNode",name:v(t.name),code:t.code,message:t.message,docs:W(t.docs)})}function ke(t){var e;return Object.freeze({kind:"instructionAccountNode",name:v(t.name),isWritable:t.isWritable,isSigner:t.isSigner,isOptional:(e=t.isOptional)!=null?e:!1,docs:W(t.docs),...t.defaultValue!==void 0&&{defaultValue:t.defaultValue}})}function w(t){return Object.freeze({kind:"instructionArgumentNode",name:v(t.name),...t.defaultValueStrategy!==void 0&&{defaultValueStrategy:t.defaultValueStrategy},docs:W(t.docs),type:t.type,...t.defaultValue!==void 0&&{defaultValue:t.defaultValue}})}function Js(t){return J(t.map(Pi))}function Pi(t){return m(t.defaultValue,x)?X({...t,defaultValue:t.defaultValue}):X({...t,defaultValue:void 0,defaultValueStrategy:void 0})}function cn(t,e={}){var n;return Object.freeze({kind:"instructionByteDeltaNode",withHeader:(n=e.withHeader)!=null?n:!m(t,"resolverValueNode"),...e.subtract!==void 0&&{subtract:e.subtract},value:t})}function Y(t){var e,n,r,u,i,s;return Object.freeze({kind:"programNode",name:v(t.name),publicKey:t.publicKey,version:(e=t.version)!=null?e:"0.0.0",...t.origin!==void 0&&{origin:t.origin},docs:W(t.docs),accounts:(n=t.accounts)!=null?n:[],instructions:(r=t.instructions)!=null?r:[],definedTypes:(u=t.definedTypes)!=null?u:[],pdas:(i=t.pdas)!=null?i:[],errors:(s=t.errors)!=null?s:[]})}function te(t){return Array.isArray(t)?t:t.kind==="programNode"?[t]:[t.program,...t.additionalPrograms]}function Ys(t){return te(t).flatMap(e=>e.pdas)}function Zs(t){return te(t).flatMap(e=>e.accounts)}function ln(t){return te(t).flatMap(e=>e.definedTypes)}function Ci(t){return te(t).flatMap(e=>e.instructions)}function Xs(t){return te(t).flatMap(e=>e.errors)}function j(t){var e,n;return Object.freeze({kind:"instructionNode",name:v(t.name),docs:W(t.docs),optionalAccountStrategy:xi(t.optionalAccountStrategy),accounts:(e=t.accounts)!=null?e:[],arguments:(n=t.arguments)!=null?n:[],extraArguments:t.extraArguments,remainingAccounts:t.remainingAccounts,byteDeltas:t.byteDeltas,discriminators:t.discriminators,subInstructions:t.subInstructions})}function xi(t){return t!=null?t:"programId"}function re(t){var e;return[...t.arguments,...(e=t.extraArguments)!=null?e:[]]}function yr(t,e={}){let{leavesOnly:n=!1,subInstructionsFirst:r=!1}=e;if(m(t,"instructionNode")){if(!t.subInstructions||t.subInstructions.length===0)return[t];let i=t.subInstructions.flatMap(s=>yr(s,e));return n?i:r?[...i,t]:[t,...i]}return(m(t,"programNode")?t.instructions:Ci(t)).flatMap(i=>yr(i,e))}function fn(t,e={}){return Object.freeze({kind:"instructionRemainingAccountsNode",...e.isOptional!==void 0&&{isOptional:e.isOptional},...e.isSigner!==void 0&&{isSigner:e.isSigner},...e.isWritable!==void 0&&{isWritable:e.isWritable},docs:W(e.docs),value:t})}function ne(t){return Object.freeze({kind:"pdaNode",name:v(t.name),docs:W(t.docs),...t.programId&&{programId:t.programId},seeds:t.seeds})}function dn(t,e){return Object.freeze({kind:"rootNode",standard:"codama",version:"1.3.1",program:t,additionalPrograms:e!=null?e:[]})}var Wn=hs(Xa(),1);function T(t,e){let n=ie(t.kind);return e[n](t)}function Hc(t,e,n){let r=ie(t.kind);return(r in e?e[r]:n)(t)}function ie(t){if(!z.includes(t))throw new V(St,{kind:t});return`visit${Mt(t.slice(0,-4))}`}function sr(t,e={}){var u;let n=(u=e.keys)!=null?u:z,r={};return n.forEach(i=>{r[ie(i)]=t.bind(r)}),r}function qe(t={}){var u;let e=(u=t.keys)!=null?u:z,n=sr(i=>Object.freeze({...i}),{keys:e}),r=i=>s=>e.includes(s.kind)?T(s,i):Object.freeze({...s});return e.includes("rootNode")&&(n.visitRoot=function(s){let a=r(this)(s.program);return a===null?null:(d(a,"programNode"),dn(a,s.additionalPrograms.map(r(this)).filter(D("programNode"))))}),e.includes("programNode")&&(n.visitProgram=function(s){return Y({...s,accounts:s.accounts.map(r(this)).filter(D("accountNode")),definedTypes:s.definedTypes.map(r(this)).filter(D("definedTypeNode")),errors:s.errors.map(r(this)).filter(D("errorNode")),instructions:s.instructions.map(r(this)).filter(D("instructionNode")),pdas:s.pdas.map(r(this)).filter(D("pdaNode"))})}),e.includes("pdaNode")&&(n.visitPda=function(s){return ne({...s,seeds:s.seeds.map(r(this)).filter(D(Cr))})}),e.includes("accountNode")&&(n.visitAccount=function(s){var c;let a=r(this)(s.data);if(a===null)return null;d(a,"structTypeNode");let o=s.pda&&(c=r(this)(s.pda))!=null?c:void 0;return o&&d(o,"pdaLinkNode"),ee({...s,data:a,pda:o})}),e.includes("instructionNode")&&(n.visitInstruction=function(s){return j({...s,accounts:s.accounts.map(r(this)).filter(D("instructionAccountNode")),arguments:s.arguments.map(r(this)).filter(D("instructionArgumentNode")),byteDeltas:s.byteDeltas?s.byteDeltas.map(r(this)).filter(D("instructionByteDeltaNode")):void 0,discriminators:s.discriminators?s.discriminators.map(r(this)).filter(D(_r)):void 0,extraArguments:s.extraArguments?s.extraArguments.map(r(this)).filter(D("instructionArgumentNode")):void 0,remainingAccounts:s.remainingAccounts?s.remainingAccounts.map(r(this)).filter(D("instructionRemainingAccountsNode")):void 0,subInstructions:s.subInstructions?s.subInstructions.map(r(this)).filter(D("instructionNode")):void 0})}),e.includes("instructionAccountNode")&&(n.visitInstructionAccount=function(s){var o;let a=s.defaultValue&&(o=r(this)(s.defaultValue))!=null?o:void 0;return a&&d(a,fe),ke({...s,defaultValue:a})}),e.includes("instructionArgumentNode")&&(n.visitInstructionArgument=function(s){var c;let a=r(this)(s.type);if(a===null)return null;d(a,_);let o=s.defaultValue&&(c=r(this)(s.defaultValue))!=null?c:void 0;return o&&d(o,fe),w({...s,defaultValue:o,type:a})}),e.includes("instructionRemainingAccountsNode")&&(n.visitInstructionRemainingAccounts=function(s){let a=r(this)(s.value);return a===null?null:(d(a,["argumentValueNode","resolverValueNode"]),fn(a,{...s}))}),e.includes("instructionByteDeltaNode")&&(n.visitInstructionByteDelta=function(s){let a=r(this)(s.value);return a===null?null:(d(a,["numberValueNode","accountLinkNode","argumentValueNode","resolverValueNode"]),cn(a,{...s}))}),e.includes("definedTypeNode")&&(n.visitDefinedType=function(s){let a=r(this)(s.type);return a===null?null:(d(a,_),ft({...s,type:a}))}),e.includes("arrayTypeNode")&&(n.visitArrayType=function(s){let a=r(this)(s.count);if(a===null)return null;d(a,Qe);let o=r(this)(s.item);return o===null?null:(d(o,_),nt(o,a))}),e.includes("enumTypeNode")&&(n.visitEnumType=function(s){return at(s.variants.map(r(this)).filter(D(Fr)),{size:s.size})}),e.includes("enumStructVariantTypeNode")&&(n.visitEnumStructVariantType=function(s){let a=r(this)(s.struct);return a?(d(a,"structTypeNode"),a.fields.length===0?pe(s.name):he(s.name,a)):pe(s.name)}),e.includes("enumTupleVariantTypeNode")&&(n.visitEnumTupleVariantType=function(s){let a=r(this)(s.tuple);return a?(d(a,"tupleTypeNode"),a.items.length===0?pe(s.name):ot(s.name,a)):pe(s.name)}),e.includes("mapTypeNode")&&(n.visitMapType=function(s){let a=r(this)(s.count);if(a===null)return null;d(a,Qe);let o=r(this)(s.key);if(o===null)return null;d(o,_);let c=r(this)(s.value);return c===null?null:(d(c,_),$r(o,c,a))}),e.includes("optionTypeNode")&&(n.visitOptionType=function(s){let a=r(this)(s.prefix);if(a===null)return null;Q(a,"numberTypeNode");let o=r(this)(s.item);return o===null?null:(d(o,_),zr(o,{...s,prefix:a}))}),e.includes("zeroableOptionTypeNode")&&(n.visitZeroableOptionType=function(s){var c;let a=r(this)(s.item);if(a===null)return null;d(a,_);let o=s.zeroValue&&(c=r(this)(s.zeroValue))!=null?c:void 0;return o&&d(o,"constantValueNode"),Yr(a,o)}),e.includes("remainderOptionTypeNode")&&(n.visitRemainderOptionType=function(s){let a=r(this)(s.item);return a===null?null:(d(a,_),Gr(a))}),e.includes("booleanTypeNode")&&(n.visitBooleanType=function(s){let a=r(this)(s.size);return a===null?null:(Q(a,"numberTypeNode"),wr(a))}),e.includes("setTypeNode")&&(n.visitSetType=function(s){let a=r(this)(s.count);if(a===null)return null;d(a,Qe);let o=r(this)(s.item);return o===null?null:(d(o,_),Hr(o,a))}),e.includes("structTypeNode")&&(n.visitStructType=function(s){let a=s.fields.map(r(this)).filter(D("structFieldTypeNode"));return J(a)}),e.includes("structFieldTypeNode")&&(n.visitStructFieldType=function(s){var c;let a=r(this)(s.type);if(a===null)return null;d(a,_);let o=s.defaultValue&&(c=r(this)(s.defaultValue))!=null?c:void 0;return o&&d(o,x),X({...s,defaultValue:o,type:a})}),e.includes("tupleTypeNode")&&(n.visitTupleType=function(s){let a=s.items.map(r(this)).filter(D(_));return Jr(a)}),e.includes("amountTypeNode")&&(n.visitAmountType=function(s){let a=r(this)(s.number);return a===null?null:(Q(a,"numberTypeNode"),rt(a,s.decimals,s.unit))}),e.includes("dateTimeTypeNode")&&(n.visitDateTimeType=function(s){let a=r(this)(s.number);return a===null?null:(Q(a,"numberTypeNode"),it(a))}),e.includes("solAmountTypeNode")&&(n.visitSolAmountType=function(s){let a=r(this)(s.number);return a===null?null:(Q(a,"numberTypeNode"),ct(a))}),e.includes("prefixedCountNode")&&(n.visitPrefixedCount=function(s){let a=r(this)(s.prefix);return a===null?null:(Q(a,"numberTypeNode"),Er(a))}),e.includes("arrayValueNode")&&(n.visitArrayValue=function(s){return Zr(s.items.map(r(this)).filter(D(x)))}),e.includes("constantValueNode")&&(n.visitConstantValue=function(s){let a=r(this)(s.type);if(a===null)return null;d(a,_);let o=r(this)(s.value);return o===null?null:(d(o,x),lt(a,o))}),e.includes("enumValueNode")&&(n.visitEnumValue=function(s){var c;let a=r(this)(s.enum);if(a===null)return null;d(a,["definedTypeLinkNode"]);let o=s.value&&(c=r(this)(s.value))!=null?c:void 0;return o&&d(o,["structValueNode","tupleValueNode"]),Xr(a,s.variant,o)}),e.includes("mapValueNode")&&(n.visitMapValue=function(s){return en(s.entries.map(r(this)).filter(D("mapEntryValueNode")))}),e.includes("mapEntryValueNode")&&(n.visitMapEntryValue=function(s){let a=r(this)(s.key);if(a===null)return null;d(a,x);let o=r(this)(s.value);return o===null?null:(d(o,x),Qr(a,o))}),e.includes("setValueNode")&&(n.visitSetValue=function(s){return rn(s.items.map(r(this)).filter(D(x)))}),e.includes("someValueNode")&&(n.visitSomeValue=function(s){let a=r(this)(s.value);return a===null?null:(d(a,x),nn(a))}),e.includes("structValueNode")&&(n.visitStructValue=function(s){return an(s.fields.map(r(this)).filter(D("structFieldValueNode")))}),e.includes("structFieldValueNode")&&(n.visitStructFieldValue=function(s){let a=r(this)(s.value);return a===null?null:(d(a,x),on(s.name,a))}),e.includes("tupleValueNode")&&(n.visitTupleValue=function(s){return sn(s.items.map(r(this)).filter(D(x)))}),e.includes("constantPdaSeedNode")&&(n.visitConstantPdaSeed=function(s){let a=r(this)(s.type);if(a===null)return null;d(a,_);let o=r(this)(s.value);return o===null?null:(d(o,[...x,"programIdValueNode"]),Re(a,o))}),e.includes("variablePdaSeedNode")&&(n.visitVariablePdaSeed=function(s){let a=r(this)(s.type);return a===null?null:(d(a,_),xr(s.name,a,s.docs))}),e.includes("resolverValueNode")&&(n.visitResolverValue=function(s){var o;let a=((o=s.dependsOn)!=null?o:[]).map(r(this)).filter(D(["accountValueNode","argumentValueNode"]));return Sr(s.name,{...s,dependsOn:a.length===0?void 0:a})}),e.includes("conditionalValueNode")&&(n.visitConditionalValue=function(s){var p,l,y;let a=r(this)(s.condition);if(a===null)return null;d(a,["resolverValueNode","accountValueNode","argumentValueNode"]);let o=s.value&&(p=r(this)(s.value))!=null?p:void 0;o&&d(o,x);let c=s.ifTrue&&(l=r(this)(s.ifTrue))!=null?l:void 0;c&&d(c,fe);let f=s.ifFalse&&(y=r(this)(s.ifFalse))!=null?y:void 0;return f&&d(f,fe),!c&&!f?null:mr({condition:a,ifFalse:f,ifTrue:c,value:o})}),e.includes("pdaValueNode")&&(n.visitPdaValue=function(s){let a=r(this)(s.pda);if(a===null)return null;d(a,["pdaLinkNode","pdaNode"]);let o=s.seeds.map(r(this)).filter(D("pdaSeedValueNode"));return Xe(a,o)}),e.includes("pdaSeedValueNode")&&(n.visitPdaSeedValue=function(s){let a=r(this)(s.value);return a===null?null:(d(a,[...x,"accountValueNode","argumentValueNode"]),De(s.name,a))}),e.includes("fixedSizeTypeNode")&&(n.visitFixedSizeType=function(s){let a=r(this)(s.type);return a===null?null:(d(a,_),st(a,s.size))}),e.includes("sizePrefixTypeNode")&&(n.visitSizePrefixType=function(s){let a=r(this)(s.prefix);if(a===null)return null;Q(a,"numberTypeNode");let o=r(this)(s.type);return o===null?null:(d(o,_),Wr(o,a))}),e.includes("preOffsetTypeNode")&&(n.visitPreOffsetType=function(s){let a=r(this)(s.type);return a===null?null:(d(a,_),Br(a,s.offset,s.strategy))}),e.includes("postOffsetTypeNode")&&(n.visitPostOffsetType=function(s){let a=r(this)(s.type);return a===null?null:(d(a,_),qr(a,s.offset,s.strategy))}),e.includes("sentinelTypeNode")&&(n.visitSentinelType=function(s){let a=r(this)(s.sentinel);if(a===null)return null;d(a,"constantValueNode");let o=r(this)(s.type);return o===null?null:(d(o,_),Kr(o,a))}),e.includes("hiddenPrefixTypeNode")&&(n.visitHiddenPrefixType=function(s){let a=r(this)(s.type);if(a===null)return null;d(a,_);let o=s.prefix.map(r(this)).filter(D("constantValueNode"));return o.length===0?a:Lr(a,o)}),e.includes("hiddenSuffixTypeNode")&&(n.visitHiddenSuffixType=function(s){let a=r(this)(s.type);if(a===null)return null;d(a,_);let o=s.suffix.map(r(this)).filter(D("constantValueNode"));return o.length===0?a:Mr(a,o)}),e.includes("constantDiscriminatorNode")&&(n.visitConstantDiscriminator=function(s){let a=r(this)(s.constant);return a===null?null:(d(a,"constantValueNode"),br(a,s.offset))}),e.includes("accountLinkNode")&&(n.visitAccountLink=function(s){var o;let a=s.program&&(o=r(this)(s.program))!=null?o:void 0;return a&&d(a,"programLinkNode"),Ye(s.name,a)}),e.includes("definedTypeLinkNode")&&(n.visitDefinedTypeLink=function(s){var o;let a=s.program&&(o=r(this)(s.program))!=null?o:void 0;return a&&d(a,"programLinkNode"),se(s.name,a)}),e.includes("instructionLinkNode")&&(n.visitInstructionLink=function(s){var o;let a=s.program&&(o=r(this)(s.program))!=null?o:void 0;return a&&d(a,"programLinkNode"),Ze(s.name,a)}),e.includes("instructionAccountLinkNode")&&(n.visitInstructionAccountLink=function(s){var o;let a=s.instruction&&(o=r(this)(s.instruction))!=null?o:void 0;return a&&d(a,"instructionLinkNode"),hr(s.name,a)}),e.includes("instructionArgumentLinkNode")&&(n.visitInstructionArgumentLink=function(s){var o;let a=s.instruction&&(o=r(this)(s.instruction))!=null?o:void 0;return a&&d(a,"instructionLinkNode"),Ar(s.name,a)}),e.includes("pdaLinkNode")&&(n.visitPdaLink=function(s){var o;let a=s.program&&(o=r(this)(s.program))!=null?o:void 0;return a&&d(a,"programLinkNode"),Te(s.name,a)}),n}function oe(t,e){let n=z.map(ie);return Object.fromEntries(Object.keys(t).flatMap(r=>{let u=r;return n.includes(u)?[[u,function(s){let a=t[u];return e(s,a.bind(this))}]]:[]}))}var ur=t=>{if(typeof t=="function")return t;let e=(i,s)=>{if(s==="*")return!0;let a=s.match(/^(?:\[([^\]]+)\])?(.*)?$/);if(!a)return!1;let[,o,c]=a,f=o?o.split("|").map(v):[];return!(f.length>0&&!f.includes(i.kind)||c&&(!("name"in i)||v(c)!==i.name))},n=(i,s)=>{if(s.length===0)return!0;if(i.length===0)return!1;let a=i.pop(),o=s.pop();return e(a,o)?n(i,s):n(i,[...s,o])},r=(i,s)=>{if(s.length===0||i.length===0)return!1;let a=i.pop(),o=s.pop();return e(a,o)&&n(i,s)},u=t.split(".");return i=>r([...i],[...u])},Yn=t=>{let n=(Array.isArray(t)?t:[t]).map(ur);return r=>n.every(u=>u(r))};function P(t){return t[t.length-1]}function Wc(t,e){return t.find(n=>m(n,e))}function Zn(t,e){for(let n=t.length-1;n>=0;n--){let r=t[n];if(m(r,e))return r}}function le(t){return Zn(t,"programNode")}function Gn(t){return Zn(t,"instructionNode")}function Kn(t,e){let n=(()=>{for(let r=t.length-1;r>=0;r--){let u=t[r];if(m(u,e))return r}return-1})();if(n!==-1)return t.slice(0,n+1)}function Xn(t){return!!t&&t.length>0}function Ne(t,e){return m(Xn(t)?P(t):null,e)}function es(t,e){d(Xn(t)?P(t):null,e)}function ts(t){return t.map(e=>"name"in e?`[${e.kind}]${e.name}`:`[${e.kind}]`)}function rs(t){return ts(t).join(" > ")}var q=class ns{constructor(...e){Ge(this,"stack");this.stack=e.length===0?[[]]:[...e.map(n=>[...n])]}get currentPath(){return this.stack[this.stack.length-1]}push(e){this.currentPath.push(e)}pop(){return this.currentPath.pop()}peek(){return this.isEmpty()?void 0:this.currentPath[this.currentPath.length-1]}pushPath(e=[]){this.stack.push([...e])}popPath(){if(this.stack.length<=1)throw new V(Ft,{path:[...this.stack[this.stack.length-1]]});return[...this.stack.pop()]}getPath(e){let n=[...this.currentPath];return e&&es(n,e),n}isEmpty(){return this.currentPath.length===0}clone(){return new ns(...this.stack)}toString(){return rs(this.getPath())}};function I(t,...e){return e.reduce((n,r)=>r(n),t)}function B(t,e){return oe(t,(n,r)=>{e.push(n);let u=r(n);return e.pop(),u})}function b(t,e={}){var u;let n=t.map(i=>typeof i=="function"?i:(s,a)=>Yn(i.select)(a.getPath())?i.transform(s,a):s),r=(u=e.stack)!=null?u:new q;return I(qe(e),i=>oe(i,(s,a)=>n.reduce((o,c)=>o===null?null:c(o,r),a(s))),i=>B(i,r))}function ht(t,e){let n=z.map(ie);return Object.fromEntries(Object.keys(t).flatMap(r=>{let u=r;return n.includes(u)?[[u,i=>e(t[u](i))]]:[]}))}function Jc(t){return ht(t,e=>console.log(e))}function cr(t,e={}){var u;let n=t.map(i=>typeof i=="function"?i:(s,a)=>Yn(i.select)(a.getPath())?i.transform(s,a):s),r=(u=e.stack)!=null?u:new q;return I(qe(e),i=>oe(i,(s,a)=>{let o=n.reduce((c,f)=>c===null?null:f(c,r),s);return o===null?null:a(o)}),i=>B(i,r))}function Qn(t,e){return cr(t.map(n=>({select:n,transform:()=>null})),e)}function U(t,e){let n=z.map(ie),r=Object.fromEntries(Object.keys(e).flatMap(u=>{if(!n.includes(u))return[];let i=u;if(!t[i])throw new V(xt,{visitFunction:i});return[[i,function(a){let o=e[i],c=t[i];return o.bind(this)(a,{next:c.bind(this),self:this})}]]}));return{...t,...r}}function ve(t,e,n={}){var s;let r=(s=n.keys)!=null?s:z,u=sr(t,{keys:r}),i=a=>o=>r.includes(o.kind)?[T(o,a)]:[];return r.includes("rootNode")&&(u.visitRoot=function(o){return e(o,te(o).flatMap(i(this)))}),r.includes("programNode")&&(u.visitProgram=function(o){return e(o,[...o.pdas.flatMap(i(this)),...o.accounts.flatMap(i(this)),...o.instructions.flatMap(i(this)),...o.definedTypes.flatMap(i(this)),...o.errors.flatMap(i(this))])}),r.includes("pdaNode")&&(u.visitPda=function(o){return e(o,o.seeds.flatMap(i(this)))}),r.includes("accountNode")&&(u.visitAccount=function(o){var c;return e(o,[...i(this)(o.data),...o.pda?i(this)(o.pda):[],...((c=o.discriminators)!=null?c:[]).flatMap(i(this))])}),r.includes("instructionNode")&&(u.visitInstruction=function(o){var c,f,p,l,y;return e(o,[...o.accounts.flatMap(i(this)),...o.arguments.flatMap(i(this)),...((c=o.extraArguments)!=null?c:[]).flatMap(i(this)),...((f=o.remainingAccounts)!=null?f:[]).flatMap(i(this)),...((p=o.byteDeltas)!=null?p:[]).flatMap(i(this)),...((l=o.discriminators)!=null?l:[]).flatMap(i(this)),...((y=o.subInstructions)!=null?y:[]).flatMap(i(this))])}),r.includes("instructionAccountNode")&&(u.visitInstructionAccount=function(o){return e(o,[...o.defaultValue?i(this)(o.defaultValue):[]])}),r.includes("instructionArgumentNode")&&(u.visitInstructionArgument=function(o){return e(o,[...i(this)(o.type),...o.defaultValue?i(this)(o.defaultValue):[]])}),r.includes("instructionRemainingAccountsNode")&&(u.visitInstructionRemainingAccounts=function(o){return e(o,i(this)(o.value))}),r.includes("instructionByteDeltaNode")&&(u.visitInstructionByteDelta=function(o){return e(o,i(this)(o.value))}),r.includes("definedTypeNode")&&(u.visitDefinedType=function(o){return e(o,i(this)(o.type))}),r.includes("arrayTypeNode")&&(u.visitArrayType=function(o){return e(o,[...i(this)(o.count),...i(this)(o.item)])}),r.includes("enumTypeNode")&&(u.visitEnumType=function(o){return e(o,[...i(this)(o.size),...o.variants.flatMap(i(this))])}),r.includes("enumStructVariantTypeNode")&&(u.visitEnumStructVariantType=function(o){return e(o,i(this)(o.struct))}),r.includes("enumTupleVariantTypeNode")&&(u.visitEnumTupleVariantType=function(o){return e(o,i(this)(o.tuple))}),r.includes("mapTypeNode")&&(u.visitMapType=function(o){return e(o,[...i(this)(o.count),...i(this)(o.key),...i(this)(o.value)])}),r.includes("optionTypeNode")&&(u.visitOptionType=function(o){return e(o,[...i(this)(o.prefix),...i(this)(o.item)])}),r.includes("zeroableOptionTypeNode")&&(u.visitZeroableOptionType=function(o){return e(o,[...i(this)(o.item),...o.zeroValue?i(this)(o.zeroValue):[]])}),r.includes("remainderOptionTypeNode")&&(u.visitRemainderOptionType=function(o){return e(o,i(this)(o.item))}),r.includes("booleanTypeNode")&&(u.visitBooleanType=function(o){return e(o,i(this)(o.size))}),r.includes("setTypeNode")&&(u.visitSetType=function(o){return e(o,[...i(this)(o.count),...i(this)(o.item)])}),r.includes("structTypeNode")&&(u.visitStructType=function(o){return e(o,o.fields.flatMap(i(this)))}),r.includes("structFieldTypeNode")&&(u.visitStructFieldType=function(o){return e(o,[...i(this)(o.type),...o.defaultValue?i(this)(o.defaultValue):[]])}),r.includes("tupleTypeNode")&&(u.visitTupleType=function(o){return e(o,o.items.flatMap(i(this)))}),r.includes("amountTypeNode")&&(u.visitAmountType=function(o){return e(o,i(this)(o.number))}),r.includes("dateTimeTypeNode")&&(u.visitDateTimeType=function(o){return e(o,i(this)(o.number))}),r.includes("solAmountTypeNode")&&(u.visitSolAmountType=function(o){return e(o,i(this)(o.number))}),r.includes("prefixedCountNode")&&(u.visitPrefixedCount=function(o){return e(o,i(this)(o.prefix))}),r.includes("arrayValueNode")&&(u.visitArrayValue=function(o){return e(o,o.items.flatMap(i(this)))}),r.includes("constantValueNode")&&(u.visitConstantValue=function(o){return e(o,[...i(this)(o.type),...i(this)(o.value)])}),r.includes("enumValueNode")&&(u.visitEnumValue=function(o){return e(o,[...i(this)(o.enum),...o.value?i(this)(o.value):[]])}),r.includes("mapValueNode")&&(u.visitMapValue=function(o){return e(o,o.entries.flatMap(i(this)))}),r.includes("mapEntryValueNode")&&(u.visitMapEntryValue=function(o){return e(o,[...i(this)(o.key),...i(this)(o.value)])}),r.includes("setValueNode")&&(u.visitSetValue=function(o){return e(o,o.items.flatMap(i(this)))}),r.includes("someValueNode")&&(u.visitSomeValue=function(o){return e(o,i(this)(o.value))}),r.includes("structValueNode")&&(u.visitStructValue=function(o){return e(o,o.fields.flatMap(i(this)))}),r.includes("structFieldValueNode")&&(u.visitStructFieldValue=function(o){return e(o,i(this)(o.value))}),r.includes("tupleValueNode")&&(u.visitTupleValue=function(o){return e(o,o.items.flatMap(i(this)))}),r.includes("constantPdaSeedNode")&&(u.visitConstantPdaSeed=function(o){return e(o,[...i(this)(o.type),...i(this)(o.value)])}),r.includes("variablePdaSeedNode")&&(u.visitVariablePdaSeed=function(o){return e(o,i(this)(o.type))}),r.includes("resolverValueNode")&&(u.visitResolverValue=function(o){var c;return e(o,((c=o.dependsOn)!=null?c:[]).flatMap(i(this)))}),r.includes("conditionalValueNode")&&(u.visitConditionalValue=function(o){return e(o,[...i(this)(o.condition),...o.value?i(this)(o.value):[],...o.ifTrue?i(this)(o.ifTrue):[],...o.ifFalse?i(this)(o.ifFalse):[]])}),r.includes("pdaValueNode")&&(u.visitPdaValue=function(o){return e(o,[...i(this)(o.pda),...o.seeds.flatMap(i(this))])}),r.includes("pdaSeedValueNode")&&(u.visitPdaSeedValue=function(o){return e(o,i(this)(o.value))}),r.includes("fixedSizeTypeNode")&&(u.visitFixedSizeType=function(o){return e(o,i(this)(o.type))}),r.includes("sizePrefixTypeNode")&&(u.visitSizePrefixType=function(o){return e(o,[...i(this)(o.prefix),...i(this)(o.type)])}),r.includes("preOffsetTypeNode")&&(u.visitPreOffsetType=function(o){return e(o,i(this)(o.type))}),r.includes("postOffsetTypeNode")&&(u.visitPostOffsetType=function(o){return e(o,i(this)(o.type))}),r.includes("sentinelTypeNode")&&(u.visitSentinelType=function(o){return e(o,[...i(this)(o.sentinel),...i(this)(o.type)])}),r.includes("hiddenPrefixTypeNode")&&(u.visitHiddenPrefixType=function(o){return e(o,[...o.prefix.flatMap(i(this)),...i(this)(o.type)])}),r.includes("hiddenSuffixTypeNode")&&(u.visitHiddenSuffixType=function(o){return e(o,[...i(this)(o.type),...o.suffix.flatMap(i(this))])}),r.includes("constantDiscriminatorNode")&&(u.visitConstantDiscriminator=function(o){return e(o,i(this)(o.constant))}),r.includes("accountLinkNode")&&(u.visitAccountLink=function(o){return e(o,o.program?i(this)(o.program):[])}),r.includes("definedTypeLinkNode")&&(u.visitDefinedTypeLink=function(o){return e(o,o.program?i(this)(o.program):[])}),r.includes("instructionLinkNode")&&(u.visitInstructionLink=function(o){return e(o,o.program?i(this)(o.program):[])}),r.includes("instructionAccountLinkNode")&&(u.visitInstructionAccountLink=function(o){return e(o,o.instruction?i(this)(o.instruction):[])}),r.includes("instructionArgumentLinkNode")&&(u.visitInstructionArgumentLink=function(o){return e(o,o.instruction?i(this)(o.instruction):[])}),r.includes("pdaLinkNode")&&(u.visitPdaLink=function(o){return e(o,o.program?i(this)(o.program):[])}),u}function ei(t,e={}){var a;let n=(a=e.stack)!=null?a:new q,r=new Map,u=[],i=o=>o.reduce((c,f)=>c===null||f===null?null:c+f,0),s=ve(()=>null,(o,c)=>i(c),{keys:[...Ut,"definedTypeLinkNode","definedTypeNode","accountNode","instructionNode","instructionArgumentNode"]});return I(s,o=>U(o,{visitAccount(c,{self:f}){return T(c.data,f)},visitArrayType(c,{self:f}){if(!m(c.count,"fixedCountNode"))return null;let p=c.count.value;if(p===0)return 0;let l=T(c.item,f);return l!==null?l*p:null},visitDefinedType(c,{self:f}){if(r.has(c.name))return r.get(c.name);u.push(c.name);let p=T(c.type,f);return u.pop(),r.set(c.name,p),p},visitDefinedTypeLink(c,{self:f}){let p=t.getPath(n.getPath(c.kind));if(!p)return null;let l=P(p);if(u.includes(l.name))return null;n.pushPath(p);let y=T(l,f);return n.popPath(),y},visitEnumEmptyVariantType(){return 0},visitEnumType(c,{self:f}){var N;let p=(N=T(c.size,f))!=null?N:1;if(jt(c))return p;let l=c.variants.map(A=>T(A,f));return l.every((A,k,K)=>A===K[0])&&l.length>0&&l[0]!==null?l[0]+p:null},visitFixedSizeType(c){return c.size},visitInstruction(c,{self:f}){return i(c.arguments.map(p=>T(p,f)))},visitInstructionArgument(c,{self:f}){return T(c.type,f)},visitMapType(c,{self:f}){if(!m(c.count,"fixedCountNode"))return null;let p=c.count.value;if(p===0)return 0;let l=T(c.key,f),y=T(c.value,f);return l!==null&&y!==null?(l+y)*p:null},visitNumberType(c){return c.format==="shortU16"?null:parseInt(c.format.slice(1),10)/8},visitOptionType(c,{self:f}){if(!c.fixed)return null;let p=T(c.prefix,f),l=T(c.item,f);return l!==null?l+p:null},visitPublicKeyType(){return 32},visitSetType(c,{self:f}){if(!m(c.count,"fixedCountNode"))return null;let p=c.count.value;if(p===0)return 0;let l=T(c.item,f);return l!==null?l*p:null}}),o=>B(o,n))}function Yc(t={}){var u,i;let e=(u=t.indent)!=null?u:!1,n=(i=t.indentSeparator)!=null?i:"|   ",r=-1;return I(ve(s=>{let a=Qa(s).join(".");return e?`${n.repeat(r)}${s.kind}${a?` [${a}]`:""}`:`${s.kind}${a?`[${a}]`:""}`},(s,a)=>{let o=Qa(s).join(".");return e?[`${n.repeat(r)}${s.kind}${o?` [${o}]`:""}`,...a].join(`
`):`${s.kind}${o?`[${o}]`:""}(${a.join(", ")})`}),s=>oe(s,(a,o)=>{r+=1;let c=o(a);return r-=1,c}))}function Qa(t){var e,n;switch(t.kind){case"programNode":return[t.name,t.publicKey];case"instructionAccountNode":return[t.name,...t.isWritable?["writable"]:[],...t.isSigner===!0?["signer"]:[],...t.isSigner==="either"?["optionalSigner"]:[],...t.isOptional?["optional"]:[]];case"instructionRemainingAccountsNode":return[...t.isOptional?["optional"]:[],...t.isWritable?["writable"]:[],...t.isSigner===!0?["signer"]:[],...t.isSigner==="either"?["optionalSigner"]:[]];case"instructionByteDeltaNode":return[...t.subtract?["subtract"]:[],...t.withHeader?["withHeader"]:[]];case"errorNode":return[t.code.toString(),t.name];case"accountLinkNode":case"definedTypeLinkNode":case"instructionAccountLinkNode":case"instructionArgumentLinkNode":case"instructionLinkNode":case"pdaLinkNode":case"programLinkNode":return[t.name];case"numberTypeNode":return[t.format,...t.endian==="be"?["bigEndian"]:[]];case"amountTypeNode":return[t.decimals.toString(),...t.unit?[t.unit]:[]];case"stringTypeNode":return[t.encoding];case"optionTypeNode":return t.fixed?["fixed"]:[];case"fixedCountNode":return[t.value.toString()];case"numberValueNode":return[t.number.toString()];case"stringValueNode":return[t.string];case"booleanValueNode":return[t.boolean?"true":"false"];case"bytesValueNode":return[t.encoding,t.data];case"publicKeyValueNode":return[...t.identifier?[`${t.identifier}`]:[],t.publicKey];case"enumValueNode":return[t.variant];case"resolverValueNode":return[t.name];case"constantDiscriminatorNode":return[...t.offset>0?[`offset:${t.offset}`]:[]];case"fieldDiscriminatorNode":return[t.name,...t.offset>0?[`offset:${t.offset}`]:[]];case"sizeDiscriminatorNode":return[t.size.toString()];case"fixedSizeTypeNode":return[t.size.toString()];case"preOffsetTypeNode":return[t.offset.toString(),(e=t.strategy)!=null?e:"relative"];case"postOffsetTypeNode":return[t.offset.toString(),(n=t.strategy)!=null?n:"relative"];default:return"name"in t?[t.name]:[]}}function ti(t,e){let n={};return n[ie(t)]=e,n}function Ie(t){return ti("rootNode",t)}function ri(t={}){var f;let e=(f=t.includeDataArgumentValueNodes)!=null?f:!1,n=[],r=[],u=new Map,i=new Map;function s(p,l){if(m(l,"instructionAccountNode")&&u.has(l.name)||m(l,"instructionArgumentNode")&&i.has(l.name))return;if(n.some(({kind:A,name:k})=>A===l.kind&&k===l.name)){let A=[...n,l];throw new V(Rt,{cycle:A,formattedCycle:A.map(({name:k})=>k).join(" -> "),instruction:p,instructionName:p.name})}n.push(l);let N=l.kind==="instructionAccountNode"?a(p,l):o(p,l);n.pop(),r.push(N),N.kind==="instructionAccountNode"?u.set(l.name,N):i.set(l.name,N)}function a(p,l){var A;let y=be(l);c(p,l,y);let N={...l,dependsOn:y,isPda:re(p).some(k=>m(k.defaultValue,"accountBumpValueNode")&&k.defaultValue.name===l.name),resolvedIsOptional:!!l.isOptional,resolvedIsSigner:l.isSigner};switch((A=N.defaultValue)==null?void 0:A.kind){case"accountValueNode":let k=u.get(N.defaultValue.name),K=l.isSigner===!1&&k.isSigner===!1,M=l.isSigner===!0&&k.isSigner===!0,fr=!K&&!M;N.resolvedIsSigner=fr?"either":M,N.resolvedIsOptional=!!k.isOptional;break;case"publicKeyValueNode":case"programLinkNode":case"programIdValueNode":N.resolvedIsSigner=l.isSigner===!1?!1:"either",N.resolvedIsOptional=!1;break;case"pdaValueNode":N.resolvedIsSigner=l.isSigner===!1?!1:"either",N.resolvedIsOptional=!1;let{seeds:Vt}=N.defaultValue;Vt.forEach(H=>{if(!m(H.value,"accountValueNode"))return;if(u.get(H.value.name).resolvedIsOptional)throw new V(kt,{instruction:p,instructionAccount:l,instructionAccountName:l.name,instructionName:p.name,seed:H,seedName:H.name,seedValueName:H.value.name})});break;case"identityValueNode":case"payerValueNode":case"resolverValueNode":N.resolvedIsOptional=!1;break;default:break}return N}function o(p,l){let y=be(l);return c(p,l,y),{...l,dependsOn:y}}function c(p,l,y){y.forEach(N=>{let A=null;if(m(N,"accountValueNode")){let k=p.accounts.find(K=>K.name===N.name);if(!k)throw new V(Ke,{dependency:N,dependencyKind:N.kind,dependencyName:N.name,instruction:p,instructionName:p.name,parent:l,parentKind:l.kind,parentName:l.name});A={...k}}else if(m(N,"argumentValueNode")){let k=re(p).find(K=>K.name===N.name);if(!k)throw new V(Ke,{dependency:N,dependencyKind:N.kind,dependencyName:N.name,instruction:p,instructionName:p.name,parent:l,parentKind:l.kind,parentName:l.name});A={...k}}A&&s(p,A)})}return ti("instructionNode",p=>{var y;return n=[],r=[],u=new Map,i=new Map,[...p.accounts,...p.arguments.filter(N=>e?N.defaultValue:N.defaultValue&&!m(N.defaultValue,x)),...((y=p.extraArguments)!=null?y:[]).filter(N=>N.defaultValue)].forEach(N=>{s(p,N)}),r})}function Hn(t){let e=new Map,n=new Map;return t.forEach(r=>{m(r,"accountValueNode")?e.set(r.name,r):m(r,"argumentValueNode")&&n.set(r.name,r)}),[...e.values(),...n.values()]}function be(t){var n,r;if(m(t,"instructionNode"))return Hn([...t.accounts.flatMap(be),...t.arguments.flatMap(be),...((n=t.extraArguments)!=null?n:[]).flatMap(be)]);if(!t.defaultValue)return[];let e=u=>u?be({...t,defaultValue:u}):[];if(m(t.defaultValue,["accountValueNode","accountBumpValueNode"]))return[We(t.defaultValue.name)];if(m(t.defaultValue,["argumentValueNode"]))return[Je(t.defaultValue.name)];if(m(t.defaultValue,"pdaValueNode")){let u=new Map;return t.defaultValue.seeds.forEach(i=>{m(i.value,["accountValueNode","argumentValueNode"])&&u.set(i.value.name,{...i.value})}),[...u.values()]}return m(t.defaultValue,"resolverValueNode")?(r=t.defaultValue.dependsOn)!=null?r:[]:m(t.defaultValue,"conditionalValueNode")?Hn([...e(t.defaultValue.condition),...e(t.defaultValue.ifTrue),...e(t.defaultValue.ifFalse)]):[]}function ae(t={}){return qe(t)}function is(t={}){return oe(ae(t),(e,n)=>"docs"in e?n({...e,docs:[]}):n(e))}function ni(t={}){var n;return((n=t.removeDocs)!=null?n:!1)?ht(is(),r=>(0,Wn.default)(r)):sr(r=>(0,Wn.default)(r))}function os(t,e){let n=!0;return oe(t,(r,u)=>{try{if(n){n=!1;let i=e(r,u);return n=!0,i}return u(r)}catch(i){throw n=!0,i}})}var Jn=["accountNode","definedTypeNode","instructionAccountNode","instructionArgumentNode","instructionNode","pdaNode","programNode"],$=class{constructor(){Ge(this,"programs",new Map)}recordPath(t){let e=P(t),n=this.getOrCreateProgramDictionary(t);if(!n)return this;let r=this.getOrCreateInstructionDictionary(n,t);return Ne(t,"accountNode")?n.accounts.set(e.name,t):Ne(t,"definedTypeNode")?n.definedTypes.set(e.name,t):Ne(t,"pdaNode")?n.pdas.set(e.name,t):r&&Ne(t,"instructionAccountNode")?r.accounts.set(e.name,t):r&&Ne(t,"instructionArgumentNode")&&r.arguments.set(e.name,t),this}getPathOrThrow(t){let e=this.getPath(t);if(!e){let n=P(t);throw new V(bt,{kind:n.kind,linkNode:n,name:n.name,path:t})}return e}getPath(t){let e=P(t),n=this.getProgramDictionary(t);if(!n)return;let r=this.getInstructionDictionary(n,t);if(m(e,"accountLinkNode"))return n.accounts.get(e.name);if(m(e,"definedTypeLinkNode"))return n.definedTypes.get(e.name);if(m(e,"instructionAccountLinkNode"))return r==null?void 0:r.accounts.get(e.name);if(m(e,"instructionArgumentLinkNode"))return r==null?void 0:r.arguments.get(e.name);if(m(e,"instructionLinkNode"))return r==null?void 0:r.instruction;if(m(e,"pdaLinkNode"))return n.pdas.get(e.name);if(m(e,"programLinkNode"))return n.program}getOrThrow(t){return P(this.getPathOrThrow(t))}get(t){let e=this.getPath(t);return e?P(e):void 0}has(t){let e=P(t),n=this.getProgramDictionary(t);if(!n)return!1;let r=this.getInstructionDictionary(n,t);return m(e,"accountLinkNode")?n.accounts.has(e.name):m(e,"definedTypeLinkNode")?n.definedTypes.has(e.name):m(e,"instructionAccountLinkNode")?!!r&&r.accounts.has(e.name):m(e,"instructionArgumentLinkNode")?!!r&&r.arguments.has(e.name):m(e,"instructionLinkNode")?n.instructions.has(e.name):m(e,"pdaLinkNode")?n.pdas.has(e.name):!!m(e,"programLinkNode")}getOrCreateProgramDictionary(t){let e=P(t),n=m(e,"programNode")?e:le(t);if(!n)return;let r=this.programs.get(n.name);return r||(r={accounts:new Map,definedTypes:new Map,instructions:new Map,pdas:new Map,program:Kn(t,"programNode")},this.programs.set(n.name,r)),r}getOrCreateInstructionDictionary(t,e){let n=P(e),r=m(n,"instructionNode")?n:Gn(e);if(!r)return;let u=t.instructions.get(r.name);return u||(u={accounts:new Map,arguments:new Map,instruction:Kn(e,"instructionNode")},t.instructions.set(r.name,u)),u}getProgramDictionary(t){var r,u,i,s;let e=P(t),n;return m(e,"programLinkNode")?n=e.name:"program"in e?n=(r=e.program)==null?void 0:r.name:"instruction"in e&&(n=(i=(u=e.instruction)==null?void 0:u.program)==null?void 0:i.name),n=n!=null?n:(s=le(t))==null?void 0:s.name,n?this.programs.get(n):void 0}getInstructionDictionary(t,e){var u,i;let n=P(e),r;return m(n,"instructionLinkNode")?r=n.name:"instruction"in n&&(r=(u=n.instruction)==null?void 0:u.name),r=r!=null?r:(i=Gn(e))==null?void 0:i.name,r?t.instructions.get(r):void 0}};function as(t={}){return ve(()=>{},()=>{},t)}function lr(t){let e=new q;return I(as(),n=>oe(n,(r,u)=>(m(r,Jn)&&t.recordPath(e.getPath(Jn)),u(r))),n=>B(n,e))}function G(t,e){let n=lr(e);return I(t,r=>os(r,(u,i)=>(T(u,n),i(u))))}function Zc(t,e,n){let r={...t};return r[ie(e)]=function(i){return n(i),t[ie(e)].bind(this)(i)},r}var ss=["debug","trace","info","warn","error"];function R(t,e,n,r){return{level:t,message:e,node:n,path:Array.isArray(r)?r:r.getPath()}}var At=t=>ss.indexOf(t);function Xc(){let t=new $,e=new q;return I(ve(()=>[],(n,r)=>r.flat()),n=>G(n,t),n=>B(n,e),n=>U(n,{visitAccount(r,{next:u}){let i=[];return r.name||i.push(R("error","Account has no name.",r,e)),[...i,...u(r)]},visitDefinedType(r,{next:u}){let i=[];return r.name||i.push(R("error","Defined type has no name.",r,e)),[...i,...u(r)]},visitDefinedTypeLink(r,{next:u}){let i=[];return r.name?t.has(e.getPath(r.kind))||i.push(R("error",`Pointing to a missing defined type named "${r.name}"`,r,e)):i.push(R("error","Pointing to a defined type with no name.",r,e)),[...i,...u(r)]},visitEnumEmptyVariantType(r,{next:u}){let i=[];return r.name||i.push(R("error","Enum variant has no name.",r,e)),[...i,...u(r)]},visitEnumStructVariantType(r,{next:u}){let i=[];return r.name||i.push(R("error","Enum variant has no name.",r,e)),[...i,...u(r)]},visitEnumTupleVariantType(r,{next:u}){let i=[];return r.name||i.push(R("error","Enum variant has no name.",r,e)),[...i,...u(r)]},visitEnumType(r,{next:u}){let i=[];return r.variants.length===0&&i.push(R("warn","Enum has no variants.",r,e)),r.variants.forEach(s=>{s.name||i.push(R("error","Enum variant has no name.",r,e))}),[...i,...u(r)]},visitError(r,{next:u}){let i=[];return r.name||i.push(R("error","Error has no name.",r,e)),typeof r.code!="number"&&i.push(R("error","Error has no code.",r,e)),r.message||i.push(R("warn","Error has no message.",r,e)),[...i,...u(r)]},visitInstruction(r,{next:u}){let i=[];r.name||i.push(R("error","Instruction has no name.",r,e));let s=new Map;r.accounts.forEach(l=>{var N;if(!l.name){i.push(R("error","Instruction account has no name.",r,e));return}let y=((N=s.get(l.name))!=null?N:0)+1;s.set(l.name,y),y===2&&i.push(R("error",`Account name "${l.name}" is not unique in instruction "${r.name}".`,r,e))});let a=ri();try{T(r,a)}catch(l){i.push(R("error",l.message,r,e))}let c=re(r).map(({name:l})=>v(l)).filter((l,y,N)=>N.indexOf(l)!==y),f=[...new Set(c)];return f.length>0&&i.push(R("error",`The names of the following instruction arguments are conflicting: [${f.join(", ")}].`,r,e)),re(r).forEach(l=>{let{defaultValue:y}=l;if(m(y,"accountBumpValueNode")){let N=r.accounts.find(A=>A.name===y.name);N&&N.isSigner!==!1&&i.push(R("error",`Argument ${l.name} cannot default to the bump attribute of the [${y.name}] account as it may be a Signer.`,r,e))}}),[...i,...u(r)]},visitProgram(r,{next:u}){let i=[];return r.name||i.push(R("error","Program has no name.",r,e)),r.publicKey||i.push(R("error","Program has no public key.",r,e)),r.version||i.push(R("warn","Program has no version.",r,e)),r.origin||i.push(R("info","Program has no origin.",r,e)),[...i,...u(r)]},visitStructFieldType(r,{next:u}){let i=[];return r.name||i.push(R("error","Struct field has no name.",r,e)),[...i,...u(r)]},visitStructType(r,{next:u}){let i=[],s=new Map;return r.fields.forEach(a=>{var c;if(!a.name)return;let o=((c=s.get(a.name))!=null?c:0)+1;s.set(a.name,o),o===2&&i.push(R("error",`Struct field name "${a.name}" is not unique.`,a,e))}),[...i,...u(r)]},visitTupleType(r,{next:u}){let i=[];return r.items.length===0&&i.push(R("warn","Tuple has no items.",r,e)),[...i,...u(r)]}}))}function Qc(t,e="error"){return ht(t,n=>{let r=[...n].sort((i,s)=>At(s.level)-At(i.level)).reduce((i,s)=>{var a;return i[s.level]=((a=i[s.level])!=null?a:0)+1,i},{});if(Object.keys(r).map(i=>At(i)).sort((i,s)=>s-i)[0]>=At(e)){let i=Object.keys(r).map(s=>`${s}s: ${r[s]}`).join(", ");throw new V(wt,{formattedHistogram:i,validationItems:n})}})}function el(t){return b(Object.entries(t).map(([e,n])=>({select:`[programNode]${v(e)}`,transform:u=>{d(u,"programNode");let i=new Set(u.pdas.map(o=>o.name)),s=new Set(n.map(o=>o.name)),a=new Set([...i].filter(o=>s.has(o)));if(a.size>0)throw new V(_t,{duplicatedPdaNames:[...a],program:u,programName:u.name});return Y({...u,pdas:[...u.pdas,...n.map(o=>ne({name:o.name,seeds:o.seeds}))]})}})))}function tl(){return b([{select:"[instructionNode]",transform:t=>(d(t,"instructionNode"),j({...t,arguments:ii(t.arguments)}))}])}var ii=(t,e="*")=>{let n=e==="*"?e:e.map(v),r=c=>e==="*"||n.includes(v(c.name)),u=t.flatMap(c=>m(c.type,"structTypeNode")&&r(c)?c.type.fields.map(f=>w({...f})):c),s=u.map(c=>c.name).filter((c,f,p)=>p.indexOf(c)!==f),a=[...new Set(s)],o=a.length>0;if(o)throw new V(_e,{conflictingAttributes:a});return o?t:u};function rl(t){let e=new $,n=b(Object.entries(t).map(([r,u])=>({select:["[instructionNode]",r],transform:(i,s)=>{var y,N;d(i,"instructionNode");let a=i.arguments,o=v(u),c=a.findIndex(A=>A.name===o),f=c>=0?a[c]:null;if(!f)throw new V(He,{argumentName:o,instruction:i,instructionName:i.name});let p;if(m(f.type,"enumTypeNode"))p=f.type;else if(m(f.type,"definedTypeLinkNode")&&e.has([...s.getPath(),f.type])){let A=(y=e.get([...s.getPath(),f.type]))==null?void 0:y.type;d(A,"enumTypeNode"),p=A}else throw new V(He,{argumentName:o,instruction:i,instructionName:i.name});let l=p.variants.map((A,k)=>{let K=v(`${i.name} ${A.name}`),M=a.slice(0,c);return M.push(w({defaultValue:tn(k),defaultValueStrategy:"omitted",name:`${K}Discriminator`,type:de("u8")})),m(A,"enumStructVariantTypeNode")?M.push(w({...f,type:A.struct})):m(A,"enumTupleVariantTypeNode")&&M.push(w({...f,type:A.tuple})),M.push(...a.slice(c+1)),j({...i,arguments:ii(M),name:K})});return j({...i,subInstructions:[...(N=i.subInstructions)!=null?N:[],...l]})}})));return I(n,r=>G(r,e))}function nl(){return Ie(t=>{let e=new Map,n=te(t);n.forEach(i=>{i.definedTypes.forEach(s=>{var c;let a={program:i,type:s},o=(c=e.get(s.name))!=null?c:[];e.set(s.name,[...o,a])})}),e.forEach((i,s)=>{i.length<=1&&e.delete(s)});let r=ni({removeDocs:!0});e.forEach((i,s)=>{i.map(c=>T(c.type,r)).every((c,f,p)=>c===p[0])||e.delete(s)});let u=Array.from(e.values()).flatMap(i=>{let s=i.sort((o,c)=>n.indexOf(o.program)-n.indexOf(c.program)),[,...a]=s;return a}).map(({program:i,type:s})=>`[programNode]${i.name}.[definedTypeNode]${s.name}`);if(u.length>0){let i=T(t,Qn(u));return d(i,"rootNode"),i}return t})}function oi(t,e,n=!1){let r=P(t);return I(qe({keys:fe}),u=>U(u,{visitPdaValue(i,{next:s}){let a=s(i);d(a,"pdaValueNode");let o=m(a.pda,"pdaNode")?a.pda:e.get([...t,a.pda]);if(!o)return a;let c=il(r,o,a.seeds);if(n&&!al(r,o,c))throw new V(Dt,{instruction:r,instructionName:r.name,pda:o,pdaName:o.name});return Xe(a.pda,c)}}))}function il(t,e,n){let r=new Set(n.map(i=>i.name)),u=ol(t,e).filter(i=>!r.has(i.name));return[...n,...u]}function ol(t,e){return e.seeds.flatMap(n=>{if(!m(n,"variablePdaSeedNode"))return[];let r=t.accounts.some(i=>i.name===n.name);return m(n.type,"publicKeyTypeNode")&&r?[De(n.name,We(n.name))]:re(t).some(i=>i.name===n.name)?[De(n.name,Je(n.name))]:[]})}function al(t,e,n){let r=e.seeds.filter(Ur("variablePdaSeedNode")).length===n.length,u=t.accounts.map(a=>a.name),i=re(t).map(a=>a.name),s=n.every(a=>m(a.value,"accountValueNode")?u.includes(a.value.name):m(a.value,"argumentValueNode")?i.includes(a.value.name):!0);return r&&s}function sl(t){return b(Object.entries(t).map(([e,n])=>({select:`${e}.[structTypeNode]`,transform:r=>cs(r,n)})))}var cs=(t,e="*")=>{d(t,"structTypeNode");let n=e==="*"?e:e.map(v),r=c=>e==="*"||n.includes(v(c.name)),u=t.fields.flatMap(c=>m(c.type,"structTypeNode")&&r(c)?c.type.fields:[c]),s=u.map(c=>c.name).filter((c,f,p)=>p.indexOf(c)!==f),a=[...new Set(s)],o=a.length>0;if(o)throw new V(_e,{conflictingAttributes:a});return o?t:J(u)};function us(t){let e={};return t.forEach(n=>{Object.keys(n).forEach(r=>{let u=r;e[u]===void 0?e[u]=n[u]:(e[u].total+=n[u].total,e[u].inAccounts+=n[u].inAccounts,e[u].inDefinedTypes+=n[u].inDefinedTypes,e[u].inInstructionArgs+=n[u].inInstructionArgs,e[u].directlyAsInstructionArgs+=n[u].directlyAsInstructionArgs)})}),e}function ai(){let t=new q,e=null,n=0;return I(ve(()=>({}),(r,u)=>us(u)),r=>oe(r,(u,i)=>{n+=1;let s=i(u);return n-=1,s}),r=>U(r,{visitAccount(u,{self:i}){e="account",n=0;let s=T(u.data,i);return e=null,s},visitDefinedType(u,{self:i}){e="definedType",n=0;let s=T(u.type,i);return e=null,s},visitDefinedTypeLink(u){let i=le(t.getPath());return{[i?`${i.name}.${u.name}`:u.name]:{directlyAsInstructionArgs:+(e==="instruction"&&n<=1),inAccounts:+(e==="account"),inDefinedTypes:+(e==="definedType"),inInstructionArgs:+(e==="instruction"),total:1}}},visitInstruction(u,{self:i}){var c,f;e="instruction",n=0;let s=u.arguments.map(p=>T(p,i)),a=((c=u.extraArguments)!=null?c:[]).map(p=>T(p,i));e=null;let o=((f=u.subInstructions)!=null?f:[]).map(p=>T(p,i));return us([...s,...a,...o])}}),r=>B(r,t))}function ul(t){return b(Object.entries(t).map(([e,{field:n,value:r,offset:u}])=>({select:["[accountNode]",e],transform:i=>{var c;d(i,"accountNode");let s=Ae(i.data),a=s.fields.findIndex(f=>f.name===n);if(a<0)throw new V(Pt,{account:i,missingField:n,name:i.name});let o=s.fields[a];return ee({...i,data:ye(i.data,()=>J([...s.fields.slice(0,a),X({...o,defaultValue:r,defaultValueStrategy:"omitted"}),...s.fields.slice(a+1)])),discriminators:[et(n,u),...(c=i.discriminators)!=null?c:[]]})}})))}function cl(){let t=new $,e=cr([{select:n=>Ne(n,"accountNode")&&P(n).size===void 0,transform:(n,r)=>{d(n,"accountNode");let u=T(n.data,ei(t,{stack:r}));return u===null?n:ee({...n,size:u})}}],{keys:["rootNode","programNode","accountNode"]});return I(e,n=>G(n,t))}var ll=()=>[{account:/^(payer|feePayer)$/,defaultValue:Tr(),ignoreIfOptional:!0},{account:/^(authority)$/,defaultValue:gr(),ignoreIfOptional:!0},{account:/^(programId)$/,defaultValue:$t(),ignoreIfOptional:!0},{account:/^(systemProgram|splSystemProgram)$/,defaultValue:C("11111111111111111111111111111111","splSystem"),ignoreIfOptional:!0},{account:/^(tokenProgram|splTokenProgram)$/,defaultValue:C("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA","splToken"),ignoreIfOptional:!0},{account:/^(ataProgram|splAtaProgram)$/,defaultValue:C("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL","splAssociatedToken"),ignoreIfOptional:!0},{account:/^(tokenMetadataProgram|mplTokenMetadataProgram)$/,defaultValue:C("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s","mplTokenMetadata"),ignoreIfOptional:!0},{account:/^(tokenAuth|mplTokenAuth|authorization|mplAuthorization|auth|mplAuth)RulesProgram$/,defaultValue:C("auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg","mplTokenAuthRules"),ignoreIfOptional:!0},{account:/^(candyMachineProgram|mplCandyMachineProgram)$/,defaultValue:C("CndyV3LdqHUfDLmE5naZjVN8rBZz4tqhdefbAnjHG3JR","mplCandyMachine"),ignoreIfOptional:!0},{account:/^(candyGuardProgram|mplCandyGuardProgram)$/,defaultValue:C("Guard1JwRhJkVH6XZhzoYxeBVQe872VH6QggF4BWmS9g","mplCandyGuard"),ignoreIfOptional:!0},{account:/^(clockSysvar|sysvarClock)$/,defaultValue:C("SysvarC1ock11111111111111111111111111111111"),ignoreIfOptional:!0},{account:/^(epochScheduleSysvar|sysvarEpochSchedule)$/,defaultValue:C("SysvarEpochSchedu1e111111111111111111111111"),ignoreIfOptional:!0},{account:/^(instructions?Sysvar|sysvarInstructions?)(Account)?$/,defaultValue:C("Sysvar1nstructions1111111111111111111111111"),ignoreIfOptional:!0},{account:/^(recentBlockhashesSysvar|sysvarRecentBlockhashes)$/,defaultValue:C("SysvarRecentB1ockHashes11111111111111111111"),ignoreIfOptional:!0},{account:/^(rent|rentSysvar|sysvarRent)$/,defaultValue:C("SysvarRent111111111111111111111111111111111"),ignoreIfOptional:!0},{account:/^(rewardsSysvar|sysvarRewards)$/,defaultValue:C("SysvarRewards111111111111111111111111111111"),ignoreIfOptional:!0},{account:/^(slotHashesSysvar|sysvarSlotHashes)$/,defaultValue:C("SysvarS1otHashes111111111111111111111111111"),ignoreIfOptional:!0},{account:/^(slotHistorySysvar|sysvarSlotHistory)$/,defaultValue:C("SysvarS1otHistory11111111111111111111111111"),ignoreIfOptional:!0},{account:/^(stakeHistorySysvar|sysvarStakeHistory)$/,defaultValue:C("SysvarStakeHistory1111111111111111111111111"),ignoreIfOptional:!0},{account:/^(mplCoreProgram)$/,defaultValue:C("CoREENxT6tW1HoK8ypY1SxRMZTcVPm7R94rH4PZNhX7d","mplCore"),ignoreIfOptional:!0}];function fl(t){let e=new $,n=new q,r=t.sort((i,s)=>{let a="instruction"in i,o="instruction"in s;return a&&o||!i&&!o?0:a?-1:1});function u(i,s){return r.find(a=>"instruction"in a&&a.instruction&&v(a.instruction)!==i.name?!1:typeof a.account=="string"?v(a.account)===s.name:a.account.test(s.name))}return I(ae({keys:["rootNode","programNode","instructionNode"]}),i=>U(i,{visitInstruction(s){let a=n.getPath("instructionNode"),o=s.accounts.map(c=>{var p;let f=u(s,c);if(!f||(p=f.ignoreIfOptional)!=null&&p&&(c.isOptional||c.defaultValue))return c;try{return{...c,defaultValue:T(f.defaultValue,oi(a,e,!0))}}catch{return c}});return j({...s,accounts:o})}}),i=>B(i,n),i=>G(i,e))}function dl(t){return b(Object.entries(t).map(([e,n])=>({select:["[instructionNode]",e],transform:r=>{var i,s,a,o,c,f;d(r,"instructionNode");let u=w({defaultValue:n.value,defaultValueStrategy:(i=n.strategy)!=null?i:"omitted",docs:(s=n.docs)!=null?s:[],name:(a=n.name)!=null?a:"discriminator",type:(o=n.type)!=null?o:de("u8")});return j({...r,arguments:[u,...r.arguments],discriminators:[et((c=n.name)!=null?c:"discriminator"),...(f=r.discriminators)!=null?f:[]]})}})))}function pl(t){return b(Object.entries(t).map(([e,n])=>({select:`${e}.[numberTypeNode]`,transform:r=>{switch(Q(r,"numberTypeNode"),n.kind){case"DateTime":return it(r);case"SolAmount":return ct(r);case"Amount":return rt(r,n.decimals,n.unit);default:throw new V(Ct,{wrapper:n})}}})))}function yl(t){return b(Object.entries(t).flatMap(([e,n])=>{let r=Object.fromEntries(Object.entries(n).map(([u,i])=>[v(u),i]));return[{select:`${e}.[structTypeNode]`,transform:u=>{d(u,"structTypeNode");let i=u.fields.map(s=>{let a=r[s.name];return a===void 0?s:a===null?X({...s,defaultValue:void 0,defaultValueStrategy:void 0}):X({...s,defaultValue:"kind"in a?a:a.value,defaultValueStrategy:"kind"in a?void 0:a.strategy})});return J(i)}},{select:["[instructionNode]",e],transform:u=>{d(u,"instructionNode");let i=s=>{let a=r[s.name];return a===void 0?s:a===null?w({...s,defaultValue:void 0,defaultValueStrategy:void 0}):w({...s,defaultValue:"kind"in a?a:a.value,defaultValueStrategy:"kind"in a?void 0:a.strategy})};return j({...u,arguments:u.arguments.map(i),extraArguments:u.extraArguments?u.extraArguments.map(i):void 0})}}]}))}function ml(t){return I(ae({keys:["rootNode","programNode"]}),e=>U(e,{visitProgram(n){let r=n.definedTypes.filter(s=>t.includes(s.name)),u=n.definedTypes.filter(s=>!t.includes(s.name)),i=r.map(s=>(d(s.type,"structTypeNode"),ee({...s,data:s.type,discriminators:[],size:void 0})));return Y({...n,accounts:[...n.accounts,...i],definedTypes:u})}}))}function Nl(t="*"){let e=n=>m(n,"fixedCountNode")?t==="*"||t.includes(n.value):!1;return I(ae(),n=>U(n,{visitArrayType(r,{self:u}){let i=T(r.item,u);return d(i,_),m(i,"numberTypeNode")&&i.format==="u8"&&m(r.count,"fixedCountNode")&&e(r.count)?st(tt(),r.count.value):nt(i,r.count)}}))}function si(t="*"){let e=new $,n=new q,r=(t==="*"?[]:t).map(i=>{if(!i.includes("."))return v(i);let[s,a]=i.split(".");return`${v(s)}.${v(a)}`}),u=(i,s)=>{if(t==="*")return!0;let a=`${s}.${i}`;return s&&r.includes(a)?!0:r.includes(i)};return I(ae(),i=>U(i,{visitDefinedTypeLink(s,{self:a}){var l,y,N;let o=(N=(l=s.program)==null?void 0:l.name)!=null?N:(y=le(n.getPath()))==null?void 0:y.name;if(!u(s.name,o))return s;let c=e.getPathOrThrow(n.getPath("definedTypeLinkNode")),f=P(c);n.pushPath(c);let p=T(f.type,a);return n.popPath(),p},visitProgram(s,{self:a}){return Y({...s,accounts:s.accounts.map(o=>T(o,a)).filter(ut("accountNode")),definedTypes:s.definedTypes.filter(o=>!u(o.name,s.name)).map(o=>T(o,a)).filter(ut("definedTypeNode")),instructions:s.instructions.map(o=>T(o,a)).filter(ut("instructionNode"))})}}),i=>B(i,n),i=>G(i,e))}function vl(){return Ie(t=>{let e=T(t,ai()),n=new $;T(t,lr(n));let r=Object.keys(e).filter(u=>{var i,s;return((i=e[u].total)!=null?i:0)===1&&((s=e[u].directlyAsInstructionArgs)!=null?s:0)===1}).filter(u=>{let i=u.split("."),s=i.length==2?se(i[1],i[0]):se(u),a=n.get([s]);return a&&!m(a.type,"enumTypeNode")});if(r.length>0){let u=si(r),i=T(t,u);return d(i,"rootNode"),i}return t})}function gl(t="*"){let e=t==="*"?[()=>!0]:t.map(r=>ur(r)),n=r=>e.some(u=>u(r.getPath()));return Ie(r=>{let u=[],i=new Map(ln(r).map(c=>[c.name,c])),s=T(r,b([{select:"[enumTupleVariantTypeNode]",transform:(c,f)=>{if(d(c,"enumTupleVariantTypeNode"),!n(f))return c;let p=Ae(c.tuple);if(p.items.length!==1)return c;let l=p.items[0];if(m(l,"definedTypeLinkNode")){let N=i.get(l.name);if(!N||!m(N.type,"structTypeNode"))return c;u.push(l.name),l=N.type}if(!m(l,"structTypeNode"))return c;let y=ye(c.tuple,()=>l);return he(c.name,y)}}]));d(s,"rootNode");let a=T(s,ai()),o=u.filter(c=>!a[c]||a[c].total===0);return s=T(s,si(o)),d(s,"rootNode"),s})}function Tl(t){let e=new $,n=t.map(r=>({select:["[definedTypeLinkNode]",r],transform:(u,i)=>e.getOrThrow(i.getPath("definedTypeLinkNode")).type}));return I(b(n),r=>G(r,e))}function ls(t,e){return J(t.fields.map(n=>e[n.name]?X({...n,name:e[n.name]}):n))}function hl(t,e){return at(t.variants.map(n=>e[n.name]?Al(n,e[n.name]):n),{...t})}function Al(t,e){return m(t,"enumStructVariantTypeNode")?he(e,t.struct):m(t,"enumTupleVariantTypeNode")?ot(e,t.tuple):pe(e)}function Vl(t){return b(Object.entries(t).flatMap(([e,n])=>{let r=typeof n=="object"&&"name"in n&&n.name?v(n.name):void 0,u=[],i=[{select:["[accountNode]",e],transform:(s,a)=>{if(d(s,"accountNode"),"delete"in n)return null;let o=le(a.getPath()),{seeds:c,pda:f,...p}=n,l=s.pda;return f&&c!==void 0?(l=f,u.push({pda:ne({name:f.name,seeds:c}),program:o.name})):f?l=f:c!==void 0&&s.pda?u.push({pda:ne({name:s.pda.name,seeds:c}),program:o.name}):c!==void 0&&(l=Te(r!=null?r:s.name),u.push({pda:ne({name:r!=null?r:s.name,seeds:c}),program:o.name})),ee({...s,...p,data:ye(s.data,y=>{var N;return ls(y,(N=n.data)!=null?N:{})}),pda:l})}},{select:"[programNode]",transform:s=>{d(s,"programNode");let a=u.filter(l=>l.program===s.name).map(l=>l.pda);if(a.length===0)return s;let o=new Set(s.pdas.map(l=>l.name)),c=a.filter(l=>!o.has(l.name)),f=new Map(a.filter(l=>o.has(l.name)).map(l=>[l.name,l])),p=[...s.pdas.map(l=>{var y;return(y=f.get(l.name))!=null?y:l}),...c];return Y({...s,pdas:p})}}];return r&&i.push({select:["[accountLinkNode]",e],transform:s=>(d(s,"accountLinkNode"),Ye(r))},{select:["[pdaNode]",e],transform:s=>(d(s,"pdaNode"),ne({name:r,seeds:s.seeds}))},{select:["[pdaLinkNode]",e],transform:s=>(d(s,"pdaLinkNode"),Te(r))}),i}))}function Sl(t){return b(Object.entries(t).flatMap(([e,n])=>{let r=typeof n=="object"&&"name"in n&&n.name?v(n.name):void 0,u=[{select:["[definedTypeNode]",e],transform:i=>{if(d(i,"definedTypeNode"),"delete"in n)return null;let{data:s,...a}=n,o=i.type;return m(i.type,"structTypeNode")?o=ls(i.type,s!=null?s:{}):m(i.type,"enumTypeNode")&&(o=hl(i.type,s!=null?s:{})),ft({...i,...a,name:r!=null?r:i.name,type:o})}}];return r&&u.push({select:["[definedTypeLinkNode]",e],transform:i=>(d(i,"definedTypeLinkNode"),se(r))}),u}))}function Ol(t){return b(Object.entries(t).map(([e,n])=>({select:`[errorNode]${e}`,transform:r=>(d(r,"errorNode"),"delete"in n?null:un({...r,...n}))})))}function El(t){let e=new $,n=new q,r=Object.entries(t).map(([u,i])=>({select:["[instructionNode]",u],transform:s=>{if(d(s,"instructionNode"),"delete"in i)return null;let a=n.getPath("instructionNode"),{accounts:o,arguments:c,...f}=i,{newArguments:p,newExtraArguments:l}=Il(s,c!=null?c:{}),y=s.accounts.map(N=>bl(a,N,o!=null?o:{},e));return j({...s,...f,accounts:y,arguments:p,extraArguments:l.length>0?l:void 0})}}));return I(b(r),u=>B(u,n),u=>G(u,e))}function bl(t,e,n,r){let u=n==null?void 0:n[e.name];if(!u)return e;let{defaultValue:i,...s}={...e,...u};return i?ke({...s,defaultValue:T(i,oi(t,r))}):ke(s)}function Il(t,e){var s;let n=new Set,r=t.arguments.map(a=>{var c,f,p,l,y;let o=e[a.name];return o?(n.add(a.name),w({...a,defaultValue:(c=o.defaultValue)!=null?c:a.defaultValue,defaultValueStrategy:(f=o.defaultValueStrategy)!=null?f:a.defaultValueStrategy,docs:(p=o.docs)!=null?p:a.docs,name:(l=o.name)!=null?l:a.name,type:(y=o.type)!=null?y:a.type})):a}),i=[...((s=t.extraArguments)!=null?s:[]).map(a=>{var c,f,p,l,y;if(n.has(a.name))return a;let o=e[a.name];return o?(n.add(a.name),w({...a,defaultValue:(c=o.defaultValue)!=null?c:a.defaultValue,defaultValueStrategy:(f=o.defaultValueStrategy)!=null?f:a.defaultValueStrategy,docs:(p=o.docs)!=null?p:a.docs,name:(l=o.name)!=null?l:a.name,type:(y=o.type)!=null?y:a.type})):a}),...Object.entries(e).filter(([a])=>!n.has(a)).map(([a,o])=>{var f,p,l,y;let{type:c}=o;return d(c,_),w({defaultValue:(f=o.defaultValue)!=null?f:void 0,defaultValueStrategy:(p=o.defaultValueStrategy)!=null?p:void 0,docs:(l=o.docs)!=null?l:[],name:(y=o.name)!=null?y:a,type:c})})];return{newArguments:r,newExtraArguments:i}}function _l(t){return b(Object.entries(t).flatMap(([e,n])=>{let r=typeof n=="object"&&"name"in n&&n.name?v(n.name):void 0,u=[{select:`[programNode]${e}`,transform:i=>(d(i,"programNode"),"delete"in n?null:Y({...i,...n}))}];return r&&u.push({select:`[programLinkNode]${e}`,transform:i=>(d(i,"programLinkNode"),ge(r))}),u}))}function ui(t){let e=t;return fs(e.version),{accept(n){return T(e,n)},clone(){return ui({...e})},getJson(){return JSON.stringify(e)},getRoot(){return e},update(n){let r=T(e,n);d(r,"rootNode"),e=r}}}function Dl(t){return ui(JSON.parse(t))}function fs(t){let e="1.3.1";if(t===e)return;let[n,r]=t.split(".").map(Number),[u,i]=e.split(".").map(Number);if(!(n===0&&u===0&&r===i)&&n!==u)throw new V(It,{codamaVersion:e,rootVersion:t})}return As(Rl);})();
